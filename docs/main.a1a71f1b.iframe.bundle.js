(self.webpackChunkh5p_editor_topic_map=self.webpackChunkh5p_editor_topic_map||[]).push([[179],{"./.storybook/helpers/h5p.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fr:()=>semantics,f:()=>params,qm:()=>parent});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _src_types_ArrowType__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/types/ArrowType.ts"),_src_types_ColorTheme__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/types/ColorTheme.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var params={topicMapItems:[{heightPercentage:100,widthPercentage:100,id:"box-1",label:"Label 1",xPercentagePosition:0,yPercentagePosition:0,topicImage:{path:"",alt:""},dialog:{hasNote:!0,links:[{id:"link-1",label:"Example",url:"https://example.com"},{id:"link-2",label:"Example 2",url:"https://example.com/2"}]},description:""},{heightPercentage:100,widthPercentage:100,id:"box-2",label:"Label 2",xPercentagePosition:0,yPercentagePosition:0,topicImage:void 0,description:""}],arrowItems:[{id:"arrow-1",dialog:{hasNote:!0,links:[{id:"link-3",label:"Example",url:"https://example.com"},{id:"link-4",label:"Example 2",url:"https://example.com/2"}]},arrowType:_src_types_ArrowType__WEBPACK_IMPORTED_MODULE_13__.n.Directional,startElementId:"box-1",endElementId:"box-2",label:"",startPosition:{x:0,y:0},endPosition:{x:0,y:0},startGridPosition:{x:0,y:0},endGridPosition:{x:0,y:0},breakpoints:[],relativeBreakpoints:[]}],colorTheme:_src_types_ColorTheme__WEBPACK_IMPORTED_MODULE_14__.U.Blue},semantics={label:"Topic map editor",name:"topicMap",type:"group",widget:"topicMap",importance:"high",fields:[{label:"Topic map items",name:"topicMapItems",type:"list",entity:"Topic map item",importance:"low",field:{label:"Item",name:"topicMapItem",importance:"low",type:"group",fields:[{name:"id",label:"Id",type:"text",widget:"none"},{name:"xPercentagePosition",label:"X-position as a percentage of the container width",type:"number",widget:"none"},{name:"yPercentagePosition",label:"Y-position as a percentage of the container height",type:"number",widget:"none"},{name:"widthPercentage",label:"Width as a percentage of the container width",type:"number",widget:"none"},{name:"heightPercentage",label:"Height as a percentage of the container height",type:"number",widget:"none"},{label:"Label",description:"The label is shown on top of the background image",name:"label",type:"text"},{label:"Description",description:"The description is shown on top of the background image, below the label",name:"description",type:"text",optional:!0},{label:"Topic image",description:"Background image for card and image above text in dialog",name:"topicImage",type:"image"},{label:"Topic image alt text",description:"Alternative text for the image that is used by screen readers",name:"topicImageAltText",type:"text",optional:!0},{label:"Dialog",name:"dialog",type:"group",fields:[{label:"Text",name:"text",type:"text",widget:"html",optional:!0},{label:"Video",name:"video",type:"video",optional:!0},{label:"Audio",name:"audio",type:"group",optional:!0,importance:"low",fields:[{label:"Audio",name:"audioFile",type:"audio"},{label:"Subtext",name:"subtext",type:"text",widget:"html",optional:!0}]},{label:"Links",name:"links",description:"These links are as auxiliary links for the user in the element's modal window",type:"list",optional:!0,entity:"linkItem",field:{label:"Link",name:"link",type:"group",fields:[{label:"Id",name:"id",type:"text",widget:"uuid"},{label:"Label",name:"label",type:"text"},{label:"Url",name:"url",type:"text"}]}}]},{label:"Index",description:"⚠️ Advanced feature: Used for manually setting tab order.",name:"index",type:"number",optional:!0}]}},{label:"Arrows",name:"arrowItems",type:"list",entity:"arrowItem",field:{label:"Arrow",name:"arrow",type:"group",fields:[{name:"id",label:"Id",type:"text",widget:"none"},{name:"startElementId",label:"Id of start element",type:"text",widget:"none"},{name:"endElementId",label:"Id of end element",type:"text",widget:"none"},{label:"Label",description:"The label is used by screen readers and on the summary page",name:"label",type:"text",widget:"none"},{label:"Description",description:"The description is shown on top of the background image, below the label",name:"description",type:"text",optional:!0},{label:"Topic image",description:"Image above text in dialog",name:"topicImage",type:"image"},{label:"Topic image alt text",description:"Alternative text for the image that is used by screen readers",name:"topicImageAltText",type:"text",optional:!0},{label:"Show start arrow-head",name:"showStartHead",type:"boolean",widget:"none",default:!1},{label:"Show end arrow-head",name:"showEndHead",type:"boolean",widget:"none",default:!0},{label:"Dialog",name:"dialog",type:"group",fields:[{label:"Text",name:"text",type:"text",widget:"html",optional:!0},{label:"Video",name:"video",type:"video",optional:!0},{label:"Audio",name:"audio",type:"group",optional:!0,importance:"low",fields:[{label:"Audio",name:"audioFile",type:"audio"},{label:"Subtext",name:"subtext",type:"text",widget:"html",optional:!0}]},{label:"Links",name:"links",description:"These links are as auxiliary links for the user in the element's modal window",type:"list",optional:!0,entity:"linkItem",field:{label:"Link",name:"link",type:"group",fields:[{label:"Id",name:"id",type:"text",widget:"uuid"},{label:"Label",name:"label",type:"text"},{label:"Url",name:"url",type:"text"}]}}]},{label:"Index",name:"index",type:"number",optional:!0,widget:"none"}]}},{label:"Background image",name:"gridBackgroundImage",type:"image",optional:!0},{label:"Appearance",name:"appearance",type:"group",importance:"low",widget:"none",fields:[{label:"Color theme",name:"colorTheme",type:"select",default:_src_types_ColorTheme__WEBPACK_IMPORTED_MODULE_14__.U.Blue,options:Object.entries(_src_types_ColorTheme__WEBPACK_IMPORTED_MODULE_14__.U).map((function(_ref){var _ref2=_slicedToArray(_ref,2);return{label:_ref2[0],value:_ref2[1]}}))}]}]},parent={params:{topicMap:{topicMapItems:[{id:"6133281e-7b52-408b-a66c-0878fd839ca4",xPercentagePosition:15,yPercentagePosition:8.333333333333332,widthPercentage:20,heightPercentage:33.33333333333335,topicImage:{path:""},label:"",description:""},{id:"461c2820-da07-43bb-8d14-a798c396fd7a",xPercentagePosition:45,yPercentagePosition:8.333333333333332,widthPercentage:45,heightPercentage:83.33333333333331,topicImage:{path:""},label:"",description:""},{id:"8123ecbf-d416-42a5-8106-47b440de51ec",xPercentagePosition:15,yPercentagePosition:50,widthPercentage:20,heightPercentage:25,topicImage:{path:""},label:"",description:""}],arrowItems:[],colorTheme:_src_types_ColorTheme__WEBPACK_IMPORTED_MODULE_14__.U.Blue}},passReadies:!1,commonFields:{},$form:null,$common:null,$commonButton:null,zebra:"odd",offset:{top:59.234375,left:0},currentLibrary:"H5P.TopicMap 0.1",metadata:{license:"U",title:"Topic Map 3",authors:[],changes:[],extraTitle:"Topic Map 3"},metadataForm:null,children:[],readies:[],ready:function ready(callback){return callback()},parent:null,addLanguages:function addLanguages(langCode){},removeLanguages:function removeLanguages(langCode){}}},"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/@storybook/client-api/dist/esm/ClientApi.js");const en_namespaceObject=JSON.parse('{"libraryStrings":{"appearance-dialog_title":"Change the topic map\'s appearance","context-menu_arrow-bi-directional":"Double sided arrow","context-menu_arrow-directional":"One sided arrow","context-menu_arrow-non-directional":"Single line","context-menu_delete":"Delete","context-menu_edit":"Edit","dialog_close":"Close dialog","draggable_delete-confirmation":"Are you sure you want to delete this item?","draggable_delete-negative":"Cancel","draggable_delete-positive":"Delete item","draggable_not-selected":"Press enter to select","draggable_selected":"Press arrow keys to move. Press escape to unselect.","global_theme-1":"Blue","global_theme-2":"Green","global_theme-3":"Red","global_theme-4":"Gray","grid-indicator_label":"Click and drag to create a new element","map-editor-view_item-dialog-title":"Item","semantics-form_save":"Save","theme-picker_label":"Color theme","toolbar-button-type_cannot-create-arrow":"There must be at least two boxes before an arrow can be added","toolbar-button-type_create-arrow":"Create arrow","toolbar-button-type_create-box":"Create box","toolbar-button-type_map-appearance":"Map appearance"}}');var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Atoms","Molecules","Organisms","Templates","Pages"]}},themes:{default:"Blue",list:[{name:"Blue",class:"theme-1",color:"#40586f"},{name:"Green",class:"theme-2",color:"#3d6060"},{name:"Red",class:"theme-3",color:"#981b1e"},{name:"Grey",class:"theme-4",color:"#373d3f"}],target:".h5p-editor-topic-map .h5p-editor-topic-map, .h5p-editor-topic-map",clearable:!1}};H5PEditor.language["H5PEditor.TopicMap"]=en_namespaceObject;var __namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/App.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithArrows:()=>WithArrows,WithoutArrows:()=>WithoutArrows,__namedExportsOrder:()=>__namedExportsOrder,default:()=>App_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),h5p_utils=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),dist_module=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@react-hook/resize-observer/dist/module/index.js")),MapEditorView=__webpack_require__("./src/components/MapEditorView/MapEditorView.tsx"),AppWidthContext=__webpack_require__("./src/contexts/AppWidthContext.ts"),form_utils=__webpack_require__("./src/utils/H5P/form.utils.ts"),theme_utils=__webpack_require__("./src/utils/theme.utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var App=function App(_ref){var _params$colorTheme,setValue=_ref.setValue,semantics=_ref.semantics,initialParams=_ref.initialParams,parent=_ref.parent,containerRef=react.useRef(null),_React$useState2=_slicedToArray(react.useState(0),2),width=_React$useState2[0],setWidth=_React$useState2[1];react.useLayoutEffect((function(){var _containerRef$current,_containerRef$current2,initialWidth=null!==(_containerRef$current=null===(_containerRef$current2=containerRef.current)||void 0===_containerRef$current2?void 0:_containerRef$current2.getBoundingClientRect().width)&&void 0!==_containerRef$current?_containerRef$current:0;setWidth(initialWidth)}),[]),(0,dist_module.Z)(containerRef,(function(_ref2){var contentRect=_ref2.contentRect;setWidth(contentRect.width)}));var _React$useState4=_slicedToArray(react.useState(initialParams?(0,form_utils.Gs)(initialParams):(0,form_utils.Dk)()),2),params=_React$useState4[0],setParams=_React$useState4[1],updateParams=react.useCallback((function(updatedParams){var newParams=Object.assign({},params,updatedParams);setParams(newParams),setValue(newParams)}),[params,setValue]);return(0,jsx_runtime.jsx)(AppWidthContext.B.Provider,{value:width,children:(0,jsx_runtime.jsx)("div",{className:"h5p-editor-topic-map theme-"+(null!==(_params$colorTheme=params.colorTheme)&&void 0!==_params$colorTheme?_params$colorTheme:theme_utils.u),ref:containerRef,children:(0,jsx_runtime.jsx)(MapEditorView.B,{setParams:updateParams,semantics,params,parent})})})};App.displayName="App";try{App.displayName="App",App.__docgenInfo={description:"",displayName:"App",props:{setValue:{defaultValue:null,description:"",name:"setValue",required:!0,type:{name:"(params: Params) => void"}},semantics:{defaultValue:null,description:"",name:"semantics",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: "group" | H5PFieldType.Group; widget?: string | undefined; fields: H5PField[]; isSubContent?: boolean | undefined; expanded?: boolean | undefined; }'}},initialParams:{defaultValue:null,description:"",name:"initialParams",required:!0,type:{name:"Partial<Params> | undefined"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/App.tsx#App"]={docgenInfo:App.__docgenInfo,name:"App",path:"src/App.tsx#App"})}catch(__react_docgen_typescript_loader_error){}var ArrowType=__webpack_require__("./src/types/ArrowType.ts"),ColorTheme=__webpack_require__("./src/types/ColorTheme.ts");const App_stories={title:"App",component:App,args:{semantics:h5p_utils.Fr,parent:h5p_utils.qm,setValue:function setValue(newParams){return console.info("Params updated",{params:newParams})},initialParams:h5p_utils.f}};var Template=function Template(args){return(0,jsx_runtime.jsx)(App,Object.assign({},args))};Template.displayName="Template";var WithArrows=Template.bind({});WithArrows.args={initialParams:Object.assign({},h5p_utils.f,{arrowItems:[{id:"d1552416-8133-44ce-84b2-4d472f5c4607",label:"Label 3 ⟶ ",arrowType:ArrowType.n.BiDirectional,description:"",startElementId:"box-3",endElementId:"3c4af0be-654f-44bf-8ba6-100813a8f456",startPosition:{x:98.38709677419355,y:55.26315789473685},endPosition:{x:98.38709677419355,y:28.947368421052634},startGridPosition:{x:31,y:11},endGridPosition:{x:31,y:5},breakpoints:[],relativeBreakpoints:[]},{id:"b1f1e4d8-45f5-4ee4-8cd4-05d976a83327",label:" ⟶ Label 1",arrowType:ArrowType.n.Directional,description:"",startElementId:"3c4af0be-654f-44bf-8ba6-100813a8f456",endElementId:"box-1",startPosition:{x:75.80645161290323,y:2.631578947368421},endPosition:{x:37.096774193548384,y:2.631578947368421},startGridPosition:{x:24,y:1},endGridPosition:{x:11,y:1},breakpoints:[],relativeBreakpoints:[]},{id:"416fa662-26ac-46f5-b1e7-e1888000c0f1",label:"Label 1 ⟶ Label 2",arrowType:ArrowType.n.NonDirectional,description:"",startElementId:"box-1",endElementId:"box-2",startPosition:{x:1.6129032258064515,y:34.21052631578947},endPosition:{x:1.6129032258064515,y:53.94736842105263},startGridPosition:{x:1,y:7},endGridPosition:{x:1,y:12},breakpoints:[],relativeBreakpoints:[]},{id:"8fdbe0f1-774c-4c0a-9070-404e1820ebc6",label:"Label 2 ⟶ Label 3",arrowType:ArrowType.n.Directional,description:"",startElementId:"box-2",endElementId:"box-3",startPosition:{x:33.87096774193548,y:97.36842105263158},endPosition:{x:65.32258064516128,y:97.36842105263158},startGridPosition:{x:11,y:19},endGridPosition:{x:22,y:19},breakpoints:[],relativeBreakpoints:[]},{id:"fbefc064-2b54-4c39-a752-ff56a0f0feac",label:"Label 3 ⟶ Label 1",arrowType:ArrowType.n.NonDirectional,description:"",startElementId:"box-3",endElementId:"box-1",startPosition:{x:69.35483870967742,y:55.26315789473685},endPosition:{x:37.096774193548384,y:34.21052631578947},startGridPosition:{x:22,y:11},endGridPosition:{x:11,y:7},breakpoints:[],relativeBreakpoints:[]},{id:"f9863d3b-9c61-42f8-b3c5-4eebf613ff03",label:"Label 2 ⟶ ",arrowType:ArrowType.n.BiDirectional,description:"",startElementId:"box-2",endElementId:"3c4af0be-654f-44bf-8ba6-100813a8f456",startPosition:{x:33.87096774193548,y:60.526315789473685},endPosition:{x:71.7741935483871,y:23.684210526315788},startGridPosition:{x:11,y:12},endGridPosition:{x:24,y:5},breakpoints:[],relativeBreakpoints:[]}],topicMapItems:[{id:"box-1",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:35.483870967741936,heightPercentage:36.84210526315789,topicImage:{path:"https://images.unsplash.com/photo-1580133318324-f2f76d987dd8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80",alt:""},label:"Label 1",description:""},{id:"box-2",xPercentagePosition:0,yPercentagePosition:58.45913372547407,widthPercentage:35.483870967741936,heightPercentage:42.82358646400045,topicImage:{path:"https://images.unsplash.com/photo-1621849400072-f554417f7051?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80",alt:""},label:"Label 2",description:"Let's put some highlights on these little trees. The sun wouldn't forget them. I will take some magic white, and a little bit of Vandyke brown and a little touch of yellow. Didn't you know you had that much power? You can move mountains. You can do anything."},{id:"box-3",xPercentagePosition:68.15715434083602,yPercentagePosition:53.14466702315824,widthPercentage:33.39753396950523,heightPercentage:45.19862137347403,topicImage:{path:"https://images.unsplash.com/photo-1628105541664-ae6ee8d249ec?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=654&q=80",alt:""},label:"Label 3",description:"You can do anything here - the only pre-requisite is that it makes you happy."},{id:"3c4af0be-654f-44bf-8ba6-100813a8f456",xPercentagePosition:74.64831189710611,yPercentagePosition:0,widthPercentage:25.80645161290323,heightPercentage:26.31578947368421,label:"Label 4",description:"",topicImage:{path:"https://images.unsplash.com/photo-1506543090642-3b27724fdbef?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"}}],colorTheme:ColorTheme.U.Green,gridBackgroundImage:{path:"https://images.unsplash.com/photo-1556446384-0c6fd6c8e673?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80",alt:"Green hills under clouds",copyright:{license:"Unsplash License",author:"Joseph Liu",source:"https://unsplash.com/photos/jwdtI3H-4eg",title:"",year:"2019"}}})};var WithoutArrows=Template.bind({});WithoutArrows.args={initialParams:Object.assign({},h5p_utils.f,{topicMapItems:[{id:"box-1",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:15,heightPercentage:20,topicImage:{path:"https://images.unsplash.com/photo-1601242453944-421cde7cfc84?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",alt:""},topicImageAltText:"Red flower with white background.",label:"Label 1",description:""},{id:"box-2",xPercentagePosition:5,yPercentagePosition:30,widthPercentage:30,heightPercentage:60,topicImage:{path:"https://images.unsplash.com/photo-1596985122625-faf96c53e0c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1374&q=80",alt:""},topicImageAltText:"Pink flower surrounded by green leaves.",label:"Label 2",description:"Let's put some highlights on these little trees. The sun wouldn't forget them. I will take some magic white, and a little bit of Vandyke brown and a little touch of yellow. Didn't you know you had that much power? You can move mountains. You can do anything."},{id:"box-3",xPercentagePosition:50,yPercentagePosition:30,widthPercentage:20,heightPercentage:50,topicImage:{path:"https://images.unsplash.com/photo-1598328514034-58f20ba7d2d3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1064&q=80",alt:""},topicImageAltText:"Yellow flower with yellow background.",label:"Label 3",description:"You can do anything here - the only pre-requisite is that it makes you happy."}],arrowItems:[]})},WithArrows.parameters=Object.assign({storySource:{source:"(args) => <App {...args} />"}},WithArrows.parameters),WithoutArrows.parameters=Object.assign({storySource:{source:"(args) => <App {...args} />"}},WithoutArrows.parameters);var __namedExportsOrder=["WithArrows","WithoutArrows"]},"./src/components/AppearanceDialog/AppearanceDialog.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _AppearanceDialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/AppearanceDialog/AppearanceDialog.tsx"),_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/H5P/form.utils.ts"),_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Appearance dialog",component:_AppearanceDialog__WEBPACK_IMPORTED_MODULE_3__.X,args:{isOpen:!0,setIsOpen:function setIsOpen(isOpen){return console.info({isOpen})},backgroundImageField:(0,_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_4__.x4)(_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_5__.Fr),onSave:function onSave(newParams){return console.info({params:newParams})},parent:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_5__.qm,params:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_5__.f}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_AppearanceDialog__WEBPACK_IMPORTED_MODULE_3__.X,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <AppearanceDialog {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/Arrow/Arrow.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BidirectionalHorizontalEmptyArrow:()=>BidirectionalHorizontalEmptyArrow,LeftDirectionalCompletedArrow:()=>LeftDirectionalCompletedArrow,NonDirectionalVerticalEmptyArrow:()=>NonDirectionalVerticalEmptyArrow,RightDirectionalEmptyArrow:()=>RightDirectionalEmptyArrow,UpDirectionalEditedArrow:()=>UpDirectionalEditedArrow,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Arrow__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Arrow/Arrow.tsx"),_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/types/ArrowType.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Arrow",component:_Arrow__WEBPACK_IMPORTED_MODULE_3__.E,argTypes:{type:{options:{Directional:_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.Directional,"Bi-directional":_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional,"Non-directional":_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.NonDirectional},control:{type:"radio"}}},args:{cellSize:30,gapSize:15,gridWidth:1e3}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Arrow__WEBPACK_IMPORTED_MODULE_3__.E,Object.assign({},args))};Template.displayName="Template";var RightDirectionalEmptyArrow=Template.bind({});RightDirectionalEmptyArrow.args={item:{startPosition:{x:100,y:0},endPosition:{x:0,y:0}}};var LeftDirectionalCompletedArrow=Template.bind({});LeftDirectionalCompletedArrow.args={item:{startPosition:{x:100,y:0},endPosition:{x:0,y:0}}};var BidirectionalHorizontalEmptyArrow=Template.bind({});BidirectionalHorizontalEmptyArrow.args={item:{startPosition:{x:100,y:0},endPosition:{x:0,y:0}}};var UpDirectionalEditedArrow=Template.bind({});UpDirectionalEditedArrow.args={item:{startPosition:{x:0,y:100},endPosition:{x:0,y:0}}};var NonDirectionalVerticalEmptyArrow=Template.bind({});NonDirectionalVerticalEmptyArrow.args={item:{startPosition:{x:0,y:0},endPosition:{x:0,y:100}}},RightDirectionalEmptyArrow.parameters=Object.assign({storySource:{source:"(args) => <Arrow {...args} />"}},RightDirectionalEmptyArrow.parameters),LeftDirectionalCompletedArrow.parameters=Object.assign({storySource:{source:"(args) => <Arrow {...args} />"}},LeftDirectionalCompletedArrow.parameters),BidirectionalHorizontalEmptyArrow.parameters=Object.assign({storySource:{source:"(args) => <Arrow {...args} />"}},BidirectionalHorizontalEmptyArrow.parameters),UpDirectionalEditedArrow.parameters=Object.assign({storySource:{source:"(args) => <Arrow {...args} />"}},UpDirectionalEditedArrow.parameters),NonDirectionalVerticalEmptyArrow.parameters=Object.assign({storySource:{source:"(args) => <Arrow {...args} />"}},NonDirectionalVerticalEmptyArrow.parameters);var __namedExportsOrder=["RightDirectionalEmptyArrow","LeftDirectionalCompletedArrow","BidirectionalHorizontalEmptyArrow","UpDirectionalEditedArrow","NonDirectionalVerticalEmptyArrow"]},"./src/components/ArrowItemForm/ArrowItemForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),_ArrowItemForm__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ArrowItemForm/ArrowItemForm.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Arrow Item Form",component:_ArrowItemForm__WEBPACK_IMPORTED_MODULE_4__.E};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ArrowItemForm__WEBPACK_IMPORTED_MODULE_4__.E,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={itemId:"1",params:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,semantics:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.Fr,parent:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.qm},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <ArrowItemForm {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/ContextMenu/ContextMenu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ManyActions:()=>ManyActions,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _ContextMenu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ContextMenu/ContextMenu.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/ContextMenu",component:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.x,args:{show:!0,actions:[{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Edit,label:"Edit",onClick:function onClick(){return alert("Edit")}},{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Delete,label:"Delete",onClick:function onClick(){return alert("Delete")}}]}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{position:"absolute",left:"0px",top:"0px",transform:"translate(10%, 10%) translate(16px, 80px)",display:"inline-flex"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.x,Object.assign({},args))})};Template.displayName="Template";var Primary=Template.bind({});Primary.args={};var ManyActions=Template.bind({});ManyActions.args={actions:[{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Edit,label:"Edit",onClick:function onClick(){return alert("Edit")}},{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.ArrowDirectional,label:"Directional arrow",onClick:function onClick(){return alert("Directional arrow")}},{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.ArrowBiDirectional,label:"Bi-directional arrow",onClick:function onClick(){return alert("Bi-directional arrow")}},{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.ArrowNonDirectional,label:"Arrow without direction",onClick:function onClick(){return alert("Arrow without direction")}},{icon:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Delete,label:"Delete",onClick:function onClick(){return alert("Delete")}}]},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <div\n    style={{\n      position: 'absolute',\n      left: '0px',\n      top: '0px',\n      transform: 'translate(10%, 10%) translate(16px, 80px)',\n      display: 'inline-flex',\n    }}\n  >\n    <ContextMenu {...args} />\n  </div>\n)"}},Primary.parameters),ManyActions.parameters=Object.assign({storySource:{source:"(args) => (\n  <div\n    style={{\n      position: 'absolute',\n      left: '0px',\n      top: '0px',\n      transform: 'translate(10%, 10%) translate(16px, 80px)',\n      display: 'inline-flex',\n    }}\n  >\n    <ContextMenu {...args} />\n  </div>\n)"}},ManyActions.parameters);var __namedExportsOrder=["Primary","ManyActions"]},"./src/components/ContextMenuButton/ContextMenuButton.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ContextMenu/ContextMenu.tsx"),_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ContextMenuButton/ContextMenuButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/ContextMenuButton",component:_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__.l,args:{icon:_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Delete,onClick:function onClick(){return console.info("Toolbar button clicked")},label:"Delete"}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__.l,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <ContextMenuButton {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/Dialog/Dialog.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SizeLarge:()=>SizeLarge,SizeMedium:()=>SizeMedium,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Dialog/Dialog.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Dialog",component:_Dialog__WEBPACK_IMPORTED_MODULE_3__.V,args:{onOpenChange:console.info,title:"Title",isOpen:!0,description:"When things happen - enjoy them. They're little gifts. Just let this happen. We just let this flow right out of our minds. This is a fantastic little painting. A tree needs to be your friend if you're going to paint him."}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Dialog__WEBPACK_IMPORTED_MODULE_3__.V,Object.assign({},args))};Template.displayName="Template";var SizeMedium=Template.bind({});SizeMedium.args={size:"medium"};var SizeLarge=Template.bind({});SizeLarge.args={size:"large"},SizeMedium.parameters=Object.assign({storySource:{source:"(args) => <Dialog {...args} />"}},SizeMedium.parameters),SizeLarge.parameters=Object.assign({storySource:{source:"(args) => <Dialog {...args} />"}},SizeLarge.parameters);var __namedExportsOrder=["SizeMedium","SizeLarge"];try{ComponentMeta.displayName="ComponentMeta",ComponentMeta.__docgenInfo={description:"For the common case where a component's stories are simple components that receives args as props:\n\n```tsx\nexport default { ... } as ComponentMeta<typeof Button>;\n```",displayName:"ComponentMeta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dialog/Dialog.stories.tsx#ComponentMeta"]={docgenInfo:ComponentMeta.__docgenInfo,name:"ComponentMeta",path:"src/components/Dialog/Dialog.stories.tsx#ComponentMeta"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Draggable/Draggable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Draggable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Draggable/Draggable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Draggable",component:_Draggable__WEBPACK_IMPORTED_MODULE_3__._,args:{updatePosition:function updatePosition(newPos){return console.info("New position",newPos)},initialXPosition:200,initialYPosition:200,height:100,width:100,gapSize:10,cellSize:10,gridSize:{width:200,height:100},initialHeight:45,initialWidth:95,id:"1",occupiedCells:[],backgroundImage:"https://images.unsplash.com/photo-1518701005037-d53b1f67bb1c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1326&q=80",editItem:function editItem(id){return console.info("Edit item",id)},deleteItem:function deleteItem(id){return console.info("Delete item",id)}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Draggable__WEBPACK_IMPORTED_MODULE_3__._,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <Draggable {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/Grid/Grid.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,GridWithDraggable:()=>GridWithDraggable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),_Grid__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Grid/Grid.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Grid",component:_Grid__WEBPACK_IMPORTED_MODULE_4__.r,args:{numberOfColumns:30,numberOfRows:30,initialItems:[],gapSize:8,updateItems:function updateItems(){return console.info("Items updated")},semantics:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.Fr,params:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,parent:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.qm}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_4__.r,Object.assign({},args))};Template.displayName="Template";var Empty=Template.bind({});Empty.args={};var TemplateWithDraggable=function TemplateWithDraggable(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_4__.r,Object.assign({},args))};TemplateWithDraggable.displayName="TemplateWithDraggable";var GridWithDraggable=TemplateWithDraggable.bind({});GridWithDraggable.args={initialItems:[{id:"1",xPercentagePosition:25,yPercentagePosition:20,widthPercentage:10,heightPercentage:10,topicImage:{path:"https://images.unsplash.com/photo-1633498103165-98bcbed526ff?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 1",description:""},{id:"2",xPercentagePosition:25,yPercentagePosition:60,widthPercentage:65,heightPercentage:32,topicImage:{path:"https://images.unsplash.com/photo-1601242454027-baa1bcf7ec1f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 2",description:"Let's put a touch more of the magic here. If it's not what you want - stop and change it."}]},Empty.parameters=Object.assign({storySource:{source:"(args) => <Grid {...args} />"}},Empty.parameters),GridWithDraggable.parameters=Object.assign({storySource:{source:"(args) => (\n  <Grid {...args} />\n)"}},GridWithDraggable.parameters);var __namedExportsOrder=["Empty","GridWithDraggable"]},"./src/components/GridIndicator/GridIndicator.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _GridIndicator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/GridIndicator/GridIndicator.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/GridIndicator",component:_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <GridIndicator {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/MapEditorView/MapEditorView.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,FullscreenEmpty:()=>FullscreenEmpty,FullscreenWithItems:()=>FullscreenWithItems,WithItems:()=>WithItems,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),_MapEditorView__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/MapEditorView/MapEditorView.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Templates/Map Editor View",component:_MapEditorView__WEBPACK_IMPORTED_MODULE_4__.B,args:{setParams:function setParams(newParams){return console.debug("Params updated",{newParams})},semantics:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.Fr,params:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,parent:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.qm}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"918px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MapEditorView__WEBPACK_IMPORTED_MODULE_4__.B,Object.assign({},args))})};Template.displayName="Template";var Empty=Template.bind({});Empty.args={params:Object.assign({},_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,{topicMapItems:[],arrowItems:[]})};var WithItems=Template.bind({});WithItems.args={params:Object.assign({},_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,{topicMapItems:[{id:"box-1",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:15,heightPercentage:20,topicImage:{path:"https://images.unsplash.com/photo-1546842931-886c185b4c8c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=770&q=80",alt:""},label:"Label 1",description:""},{id:"box-2",xPercentagePosition:5,yPercentagePosition:30,widthPercentage:30,heightPercentage:60,topicImage:{path:"https://images.unsplash.com/photo-1470509037663-253afd7f0f51?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80",alt:""},label:"Label 2",description:"Let's put some highlights on these little trees. The sun wouldn't forget them. I will take some magic white, and a little bit of Vandyke brown and a little touch of yellow. Didn't you know you had that much power? You can move mountains. You can do anything."},{id:"box-3",xPercentagePosition:50,yPercentagePosition:30,widthPercentage:20,heightPercentage:40,topicImage:{path:"https://images.unsplash.com/photo-1527061011665-3652c757a4d4?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=772&q=80",alt:""},label:"Label 3",description:"You can do anything here - the only pre-requisite is that it makes you happy."}],arrowItems:[]})};var TemplateFullscreen=function TemplateFullscreen(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MapEditorView__WEBPACK_IMPORTED_MODULE_4__.B,Object.assign({},args))};TemplateFullscreen.displayName="TemplateFullscreen";var FullscreenEmpty=TemplateFullscreen.bind({});FullscreenEmpty.args={params:Object.assign({},_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,{topicMapItems:[],arrowItems:[]})};var FullscreenWithItems=TemplateFullscreen.bind({});FullscreenWithItems.args={params:Object.assign({},_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,{topicMapItems:[{id:"box-4",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:15,heightPercentage:20,topicImage:{path:"https://images.unsplash.com/photo-1601242453944-421cde7cfc84?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 1",description:""},{id:"box-5",xPercentagePosition:5,yPercentagePosition:30,widthPercentage:30,heightPercentage:60,topicImage:{path:"https://images.unsplash.com/photo-1596985122625-faf96c53e0c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1374&q=80",alt:""},label:"Label 2",description:"Let's put some highlights on these little trees. The sun wouldn't forget them. I will take some magic white, and a little bit of Vandyke brown and a little touch of yellow. Didn't you know you had that much power? You can move mountains. You can do anything."},{id:"box-6",xPercentagePosition:50,yPercentagePosition:30,widthPercentage:20,heightPercentage:50,topicImage:{path:"https://images.unsplash.com/photo-1598328514034-58f20ba7d2d3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1064&q=80",alt:""},label:"Label 3",description:"You can do anything here - the only pre-requisite is that it makes you happy."}],arrowItems:[]})},Empty.parameters=Object.assign({storySource:{source:"(args) => (\n  <div style={{ width: '918px' }}>\n    <MapEditorView {...args} />\n  </div>\n)"}},Empty.parameters),WithItems.parameters=Object.assign({storySource:{source:"(args) => (\n  <div style={{ width: '918px' }}>\n    <MapEditorView {...args} />\n  </div>\n)"}},WithItems.parameters),FullscreenEmpty.parameters=Object.assign({storySource:{source:"(args) => (\n  <MapEditorView {...args} />\n)"}},FullscreenEmpty.parameters),FullscreenWithItems.parameters=Object.assign({storySource:{source:"(args) => (\n  <MapEditorView {...args} />\n)"}},FullscreenWithItems.parameters);var __namedExportsOrder=["Empty","WithItems","FullscreenEmpty","FullscreenWithItems"]},"./src/components/ThemePicker/ThemePicker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/react/index.js");var _ThemePicker__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/ThemePicker/ThemePicker.tsx"),_types_ColorTheme__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/types/ColorTheme.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/ThemePicker",component:_ThemePicker__WEBPACK_IMPORTED_MODULE_16__.J,args:{setTheme:function setTheme(theme){var _Object$entries$find;return console.info("Set theme to "+(null===(_Object$entries$find=Object.entries(_types_ColorTheme__WEBPACK_IMPORTED_MODULE_17__.U).find((function(_ref){var value=_slicedToArray(_ref,2)[1];return theme===value})))||void 0===_Object$entries$find?void 0:_Object$entries$find[0]))},activeTheme:_types_ColorTheme__WEBPACK_IMPORTED_MODULE_17__.U.Red}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_ThemePicker__WEBPACK_IMPORTED_MODULE_16__.J,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <ThemePicker {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/Toolbar/Toolbar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Toolbar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Toolbar/Toolbar.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Toolbar",component:_Toolbar__WEBPACK_IMPORTED_MODULE_3__.o,args:{setActiveTool:function setActiveTool(){return console.info("new active tool")}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.o,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => <Toolbar {...args} />"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/components/ToolbarButton/ToolbarButton.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Active:()=>Active,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Toolbar/Toolbar.tsx"),_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ToolbarButton/ToolbarButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/ToolbarButton",component:_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,args:{icon:_Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__.S.MapAppearance,onClick:function onClick(){return console.info("Toolbar button clicked")},label:"Map Appearance",showActive:!1,active:!1}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={};var TemplateActive=function TemplateActive(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,Object.assign({},args))};TemplateActive.displayName="TemplateActive";var Active=TemplateActive.bind({});Active.args={showActive:!0,active:!0},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <ToolbarButton {...args} />\n)"}},Primary.parameters),Active.parameters=Object.assign({storySource:{source:"(args) => (\n  <ToolbarButton {...args} />\n)"}},Active.parameters);var __namedExportsOrder=["Primary","Active"]},"./src/components/TopicMapItem/TopicMapItem.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NoDescription:()=>NoDescription,WithDescription:()=>WithDescription,WithoutImage:()=>WithoutImage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _TopicMapItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/TopicMapItem/TopicMapItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Topic Map Item",component:_TopicMapItem__WEBPACK_IMPORTED_MODULE_3__.d,args:{item:{id:"1",label:"Label",description:"",topicImage:{path:"https://images.unsplash.com/photo-1518701005037-d53b1f67bb1c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1326&q=80",alt:""}}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_TopicMapItem__WEBPACK_IMPORTED_MODULE_3__.d,Object.assign({},args))};Template.displayName="Template";var NoDescription=Template.bind({});NoDescription.args={};var WithDescription=Template.bind({});WithDescription.args={item:{id:"1",label:"Label",description:"Automatically, all of these beautiful, beautiful things will happen. These things happen automatically. All you have to do is just let them happen. A happy cloud. I get carried away with this brush cleaning.",topicImage:{path:"https://images.unsplash.com/photo-1518701005037-d53b1f67bb1c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1326&q=80",alt:""}}};var WithoutImage=Template.bind({});WithoutImage.args={item:{id:"1",label:"Label",description:"Automatically, all of these beautiful, beautiful things will happen. These things happen automatically. All you have to do is just let them happen. A happy cloud. I get carried away with this brush cleaning."}},NoDescription.parameters=Object.assign({storySource:{source:"(args) => (\n  <TopicMapItem {...args} />\n)"}},NoDescription.parameters),WithDescription.parameters=Object.assign({storySource:{source:"(args) => (\n  <TopicMapItem {...args} />\n)"}},WithDescription.parameters),WithoutImage.parameters=Object.assign({storySource:{source:"(args) => (\n  <TopicMapItem {...args} />\n)"}},WithoutImage.parameters);var __namedExportsOrder=["NoDescription","WithDescription","WithoutImage"]},"./src/components/TopicMapItemForm/TopicMapItemForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/helpers/h5p.utils.ts"),_TopicMapItemForm__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/TopicMapItemForm/TopicMapItemForm.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Topic Map Item Form",component:_TopicMapItemForm__WEBPACK_IMPORTED_MODULE_4__.Q};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_TopicMapItemForm__WEBPACK_IMPORTED_MODULE_4__.Q,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={itemId:"1",params:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.f,semantics:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.Fr,parent:_storybook_helpers_h5p_utils__WEBPACK_IMPORTED_MODULE_3__.qm},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <TopicMapItemForm {...args} />\n)"}},Primary.parameters);var __namedExportsOrder=["Primary"]},"./src/H5P/H5P.util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>t});var h5p_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),t=function t(key,vars){return h5p_utils__WEBPACK_IMPORTED_MODULE_0__.H5PEditor.t("H5PEditor.TopicMap",key,vars)}},"./src/components/AppearanceDialog/AppearanceDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>AppearanceDialog});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),theme_utils=__webpack_require__("./src/utils/theme.utils.ts"),Dialog=__webpack_require__("./src/components/Dialog/Dialog.tsx"),SemanticsForm=__webpack_require__("./src/components/SemanticsForm/SemanticsForm.tsx"),ThemePicker=__webpack_require__("./src/components/ThemePicker/ThemePicker.tsx");const AppearanceDialog_module={dialogContent:"AppearanceDialog-module__dialogContent--wTMvN"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AppearanceDialog=function AppearanceDialog(_ref){var _params$colorTheme,backgroundImageField=_ref.backgroundImageField,isOpen=_ref.isOpen,_onSave=_ref.onSave,params=_ref.params,parent=_ref.parent,setIsOpen=_ref.setIsOpen,dialogTitle=(0,H5P_util.t)("appearance-dialog_title");return(0,jsx_runtime.jsx)(Dialog.V,{title:dialogTitle,isOpen,size:"medium",onOpenChange:setIsOpen,children:(0,jsx_runtime.jsxs)("div",{className:AppearanceDialog_module.dialogContent,children:[(0,jsx_runtime.jsx)("div",{className:AppearanceDialog_module.themePicker,children:(0,jsx_runtime.jsx)(ThemePicker.J,{setTheme:function setTheme(colorTheme){_onSave(Object.assign({},params,{colorTheme}))},activeTheme:null!==(_params$colorTheme=params.colorTheme)&&void 0!==_params$colorTheme?_params$colorTheme:theme_utils.u})}),(0,jsx_runtime.jsx)("div",{className:AppearanceDialog_module.backgroundImageForm,children:(0,jsx_runtime.jsx)(SemanticsForm.G,{fields:[backgroundImageField],params,parent,onSave:function onSave(newParams){_onSave(newParams),setIsOpen(!1)}})})]})})};AppearanceDialog.displayName="AppearanceDialog";try{AppearanceDialog.displayName="AppearanceDialog",AppearanceDialog.__docgenInfo={description:"",displayName:"AppearanceDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}},backgroundImageField:{defaultValue:null,description:"",name:"backgroundImageField",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: H5PFieldType.Image | "image"; widget?: string | undefined; }'}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(params: Params) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AppearanceDialog/AppearanceDialog.tsx#AppearanceDialog"]={docgenInfo:AppearanceDialog.__docgenInfo,name:"AppearanceDialog",path:"src/components/AppearanceDialog/AppearanceDialog.tsx#AppearanceDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Arrow/Arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>Arrow});__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),ArrowType=__webpack_require__("./src/types/ArrowType.ts"),arrow_utils=__webpack_require__("./src/utils/arrow.utils.ts"),grid_utils=__webpack_require__("./src/utils/grid.utils.ts"),ContextMenu=__webpack_require__("./src/components/ContextMenu/ContextMenu.tsx"),Dialog=__webpack_require__("./src/components/Dialog/Dialog.tsx");const Arrow_module_arrow="Arrow-module__arrow--yInZR",Arrow_module_arrowSvg="Arrow-module__arrowSvg--kbG4M",Arrow_module_path="Arrow-module__path--rZfYA",Arrow_module_selectable="Arrow-module__selectable--nRWTJ",Arrow_module_pathSelected="Arrow-module__pathSelected--ivuJF",Arrow_module_deleteConfirmationPositive="Arrow-module__deleteConfirmationPositive--BIFym",Arrow_module_deleteConfirmationNegative="Arrow-module__deleteConfirmationNegative--FSdgR",Arrow_module_deleteConfirmationButtons="Arrow-module__deleteConfirmationButtons--ZgGjj";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Arrow=function Arrow(_ref){var _item$breakpoints$map,_item$breakpoints,item=_ref.item,cellSize=_ref.cellSize,gapSize=_ref.gapSize,editItem=_ref.editItem,deleteItem=_ref.deleteItem,selectedItemId=_ref.selectedItemId,setSelectedItemId=_ref.setSelectedItemId,updateArrowType=_ref.updateArrowType,gridWidth=_ref.gridWidth,arrowStartId=_ref.arrowStartId,_React$useState2=_slicedToArray(react.useState(!1),2),showDeleteConfirmationDialog=_React$useState2[0],setShowDeleteConfirmationDialog=_React$useState2[1],confirmDeletion=react.useCallback((function(){deleteItem(item.id),setShowDeleteConfirmationDialog(!1)}),[deleteItem,item.id]),denyDeletion=react.useCallback((function(){setShowDeleteConfirmationDialog(!1)}),[]),contextMenuActions=react.useMemo((function(){var editAction={icon:ContextMenu.B.Edit,label:(0,H5P_util.t)("context-menu_edit"),onClick:function onClick(){return editItem(item.id)}},deleteAction={icon:ContextMenu.B.Delete,label:(0,H5P_util.t)("context-menu_delete"),onClick:function onClick(){return setShowDeleteConfirmationDialog(!0)}};return[editAction,{icon:ContextMenu.B.ArrowDirectional,label:(0,H5P_util.t)("context-menu_arrow-directional"),onClick:function onClick(){return updateArrowType(ArrowType.n.Directional,item.id)}},{icon:ContextMenu.B.ArrowBiDirectional,label:(0,H5P_util.t)("context-menu_arrow-bi-directional"),onClick:function onClick(){return updateArrowType(ArrowType.n.BiDirectional,item.id)}},{icon:ContextMenu.B.ArrowNonDirectional,label:(0,H5P_util.t)("context-menu_arrow-non-directional"),onClick:function onClick(){return updateArrowType(ArrowType.n.NonDirectional,item.id)}},deleteAction]}),[editItem,item.id,updateArrowType]),isHorizontal=null==item.startPosition||null==item.endPosition||Math.abs(item.startPosition.x-item.endPosition.x)>Math.abs(item.startPosition.y-item.endPosition.y),startPos={x:.5*(cellSize+gapSize),y:1.5*(cellSize+gapSize)},endPos={x:6.5*(cellSize+gapSize),y:1.5*(cellSize+gapSize)};if(null!=item.startGridPosition&&null!=item.endGridPosition){var xAdjustStart=(0,arrow_utils._b)(item,isHorizontal),yAdjustStart=(0,arrow_utils.JZ)(item,isHorizontal),xAdjust=(0,arrow_utils.w3)(item),yAdjust=(0,arrow_utils.fj)(item);startPos={x:(item.startGridPosition.x+xAdjustStart)*(cellSize+gapSize),y:(item.startGridPosition.y+yAdjustStart)*(cellSize+gapSize)},endPos={x:(item.endGridPosition.x+xAdjust)*(cellSize+gapSize),y:(item.endGridPosition.y+yAdjust)*(cellSize+gapSize)}}var pathDef="M "+startPos.x+" "+startPos.y+" "+(null!==(_item$breakpoints$map=null===(_item$breakpoints=item.breakpoints)||void 0===_item$breakpoints?void 0:_item$breakpoints.map((function toPathElement(position){return"L "+(position.x-.5)*(cellSize+gapSize)+" "+(position.y-.5)*(cellSize+gapSize)})).join(" "))&&void 0!==_item$breakpoints$map?_item$breakpoints$map:"")+" L "+endPos.x+" "+endPos.y,contextMenuPosition={x:isHorizontal?(startPos.x+endPos.x)/2:endPos.x-2*(cellSize+gapSize),y:isHorizontal?endPos.y-1*(cellSize+gapSize):(startPos.y+endPos.y)/2};return(0,jsx_runtime.jsxs)("div",{className:Arrow_module_arrow,children:[(0,jsx_runtime.jsxs)("svg",{className:Arrow_module_arrowSvg,children:[(0,jsx_runtime.jsxs)("defs",{children:[(0,jsx_runtime.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"0.7",refY:"1",orient:"auto",children:(0,jsx_runtime.jsx)("path",{d:"M0,0 L0,2 L1.5,1 z",fill:"var(--theme-color-4)",onClick:function onClick(){return setSelectedItemId(item.id)}})}),(0,jsx_runtime.jsx)("marker",{id:"arrowtail",markerWidth:"10",markerHeight:"10",refX:"0.7",refY:"1",orient:"auto-start-reverse",children:(0,jsx_runtime.jsx)("path",{d:"M0,0 L0,2 L1.5,1 z",fill:"var(--theme-color-4)",onClick:function onClick(){return setSelectedItemId(item.id)}})})]}),(0,jsx_runtime.jsx)("path",{className:(null===selectedItemId?Arrow_module_path:Arrow_module_pathSelected)+" "+(null===arrowStartId?Arrow_module_selectable:""),d:pathDef,fill:"transparent",stroke:"var(--theme-color-4)",strokeWidth:.66*cellSize,markerEnd:item.arrowType===ArrowType.n.BiDirectional||item.arrowType===ArrowType.n.Directional?"url(#arrowhead)":"",markerStart:item.arrowType===ArrowType.n.BiDirectional?"url(#arrowtail)":"",onClick:function onClick(){return setSelectedItemId(item.id)},onDoubleClick:function onDoubleClick(){return editItem(item.id)}})]}),(0,jsx_runtime.jsx)(ContextMenu.x,{actions:contextMenuActions,show:selectedItemId===item.id,turnLeft:(0,grid_utils.uk)(contextMenuPosition.x,gridWidth),x:contextMenuPosition.x,y:contextMenuPosition.y,gridWidth}),(0,jsx_runtime.jsx)(Dialog.V,{isOpen:showDeleteConfirmationDialog,title:(0,H5P_util.t)("draggable_delete-confirmation"),onOpenChange:setShowDeleteConfirmationDialog,size:"medium",children:(0,jsx_runtime.jsxs)("div",{className:Arrow_module_deleteConfirmationButtons,children:[(0,jsx_runtime.jsx)("button",{type:"button",className:Arrow_module_deleteConfirmationPositive,onClick:confirmDeletion,children:(0,H5P_util.t)("draggable_delete-positive")}),(0,jsx_runtime.jsx)("button",{type:"button",className:Arrow_module_deleteConfirmationNegative,onClick:denyDeletion,children:(0,H5P_util.t)("draggable_delete-negative")})]})})]})};Arrow.displayName="Arrow";try{Arrow.displayName="Arrow",Arrow.__docgenInfo={description:"",displayName:"Arrow",props:{cellSize:{defaultValue:null,description:"",name:"cellSize",required:!0,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"ArrowItemType"}},editItem:{defaultValue:null,description:"",name:"editItem",required:!0,type:{name:"(itemId: string) => void"}},deleteItem:{defaultValue:null,description:"",name:"deleteItem",required:!0,type:{name:"(itemId: string) => void"}},selectedItemId:{defaultValue:null,description:"",name:"selectedItemId",required:!0,type:{name:"string | null"}},setSelectedItemId:{defaultValue:null,description:"",name:"setSelectedItemId",required:!0,type:{name:"(itemId: string) => void"}},updateArrowType:{defaultValue:null,description:"",name:"updateArrowType",required:!0,type:{name:"(type: ArrowType, itemId: string) => void"}},gridWidth:{defaultValue:null,description:"",name:"gridWidth",required:!0,type:{name:"number"}},arrowStartId:{defaultValue:null,description:"",name:"arrowStartId",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Arrow/Arrow.tsx#Arrow"]={docgenInfo:Arrow.__docgenInfo,name:"Arrow",path:"src/components/Arrow/Arrow.tsx#Arrow"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ArrowItemForm/ArrowItemForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ArrowItemForm});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/index.js"),_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/utils/H5P/form.utils.ts"),_SemanticsForm_SemanticsForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/SemanticsForm/SemanticsForm.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ArrowItemForm=function ArrowItemForm(_ref){var semantics=_ref.semantics,params=_ref.params,parent=_ref.parent,itemId=_ref.itemId,onSave=_ref.onSave,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14__.useState(),2),arrowItemField=_React$useState2[0],setArrowItemField=_React$useState2[1],_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14__.useState(),2),formParams=_React$useState4[0],setFormParams=_React$useState4[1];react__WEBPACK_IMPORTED_MODULE_14__.useEffect((function(){var field=(0,_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_15__.RU)(semantics);setArrowItemField(field),params.arrowItems&&setFormParams(Object.assign({},params,{arrowItems:params.arrowItems.filter((function(item){return item.id===itemId}))}))}),[itemId,params,semantics]);var onUpdate=react__WEBPACK_IMPORTED_MODULE_14__.useCallback((function(newParams){var _params$arrowItems$ma,_params$arrowItems;if(newParams.arrowItems){var updatedItem=newParams.arrowItems[0],updatedItems=null!==(_params$arrowItems$ma=null===(_params$arrowItems=params.arrowItems)||void 0===_params$arrowItems?void 0:_params$arrowItems.map((function(item){return item.id===updatedItem.id?updatedItem:item})))&&void 0!==_params$arrowItems$ma?_params$arrowItems$ma:[];onSave(Object.assign({},newParams,{arrowItems:updatedItems}))}}),[onSave,params.arrowItems]);return formParams&&arrowItemField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_SemanticsForm_SemanticsForm__WEBPACK_IMPORTED_MODULE_16__.G,{fields:[arrowItemField],params:formParams,parent,onSave:onUpdate,formClassName:"arrow-item-form"}):null};try{ArrowItemForm.displayName="ArrowItemForm",ArrowItemForm.__docgenInfo={description:"",displayName:"ArrowItemForm",props:{semantics:{defaultValue:null,description:"",name:"semantics",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: "group" | H5PFieldType.Group; widget?: string | undefined; fields: H5PField[]; isSubContent?: boolean | undefined; expanded?: boolean | undefined; }'}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!0,type:{name:"string"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(params: Params) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ArrowItemForm/ArrowItemForm.tsx#ArrowItemForm"]={docgenInfo:ArrowItemForm.__docgenInfo,name:"ArrowItemForm",path:"src/components/ArrowItemForm/ArrowItemForm.tsx#ArrowItemForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ContextMenu/ContextMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ContextMenu,B:()=>ContextMenuButtonType});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");const ContextMenu_module_contextMenu="ContextMenu-module__contextMenu--EvqCg",ContextMenu_module_show="ContextMenu-module__show--QTYUo",ContextMenu_module_right="ContextMenu-module__right--SgbIE",ContextMenu_module_left="ContextMenu-module__left--mco5q";var ContextMenuButtonType,ContextMenuButton=__webpack_require__("./src/components/ContextMenuButton/ContextMenuButton.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");!function(ContextMenuButtonType){ContextMenuButtonType.Edit="edit",ContextMenuButtonType.Delete="delete",ContextMenuButtonType.ArrowDirectional="directional",ContextMenuButtonType.ArrowBiDirectional="biDirectional",ContextMenuButtonType.ArrowNonDirectional="nonDirectional"}(ContextMenuButtonType||(ContextMenuButtonType={}));var ContextMenu=function ContextMenu(_ref){var rightPosition,leftPosition,show=_ref.show,turnLeft=_ref.turnLeft,actions=_ref.actions,x=_ref.x,y=_ref.y,gridWidth=_ref.gridWidth,className=turnLeft?ContextMenu_module_left:ContextMenu_module_right;x&&gridWidth&&(turnLeft?rightPosition=gridWidth-x-gridWidth/14:leftPosition=Math.max(x,0));return(0,jsx_runtime.jsx)("div",{className:ContextMenu_module_contextMenu+" "+className+" "+(show&&ContextMenu_module_show)+" context-menu-button",style:x&&y?{left:leftPosition,right:rightPosition,top:y}:void 0,children:actions.map((function(_ref2){var icon=_ref2.icon,label=_ref2.label,onClick=_ref2.onClick;return(0,jsx_runtime.jsx)(ContextMenuButton.l,{icon,label,onClick},label)}))})};ContextMenu.displayName="ContextMenu";try{ContextMenu.displayName="ContextMenu",ContextMenu.__docgenInfo={description:"",displayName:"ContextMenu",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},turnLeft:{defaultValue:null,description:"",name:"turnLeft",required:!0,type:{name:"boolean"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"ContextMenuAction[]"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},gridWidth:{defaultValue:null,description:"",name:"gridWidth",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ContextMenu/ContextMenu.tsx#ContextMenu"]={docgenInfo:ContextMenu.__docgenInfo,name:"ContextMenu",path:"src/components/ContextMenu/ContextMenu.tsx#ContextMenu"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ContextMenuButton/ContextMenuButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>ContextMenuButton});__webpack_require__("./node_modules/react/index.js");const ContextMenuButton_module_contextMenuButton="ContextMenuButton-module__contextMenuButton--kFn_U",ContextMenuButton_module_tooltip="ContextMenuButton-module__tooltip--zeFOB",ContextMenuButton_module_icon="ContextMenuButton-module__icon--IXNn9";var Icons=__webpack_require__("./src/components/Icons/Icons.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ContextMenuButton=function ContextMenuButton(_ref){var icon=_ref.icon,label=_ref.label,onClick=_ref.onClick;return(0,jsx_runtime.jsxs)("button",{type:"button",className:ContextMenuButton_module_contextMenuButton,onClick,"aria-label":label,children:[(0,jsx_runtime.jsx)(Icons.J,{icon,className:ContextMenuButton_module_icon}),(0,jsx_runtime.jsx)("div",{className:ContextMenuButton_module_tooltip,children:label})]})};ContextMenuButton.displayName="ContextMenuButton";try{ContextMenuButton.displayName="ContextMenuButton",ContextMenuButton.__docgenInfo={description:"",displayName:"ContextMenuButton",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"delete"'},{value:'"directional"'},{value:'"biDirectional"'},{value:'"nonDirectional"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ContextMenuButton/ContextMenuButton.tsx#ContextMenuButton"]={docgenInfo:ContextMenuButton.__docgenInfo,name:"ContextMenuButton",path:"src/components/ContextMenuButton/ContextMenuButton.tsx#ContextMenuButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Dialog/Dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>Dialog});__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/react/index.js");var index_module=__webpack_require__("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),react_icons_esm=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js");const Dialog_module_overlay="Dialog-module__overlay--uCmsR",Dialog_module_closeButton="Dialog-module__closeButton--nPZ_W",Dialog_module_content="Dialog-module__content--U1hMl",Dialog_module_title="Dialog-module__title--x_Qq3";var H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),maxWidths={medium:450,large:750},Dialog=function Dialog(_ref){var isOpen=_ref.isOpen,title=_ref.title,description=_ref.description,onOpenChange=_ref.onOpenChange,children=_ref.children,size=_ref.size,closeButtonLabel=(0,H5P_util.t)("dialog_close"),maxWidth=maxWidths[size];return(0,jsx_runtime.jsxs)(index_module.fC,{open:isOpen,onOpenChange,children:[(0,jsx_runtime.jsx)(index_module.aV,{className:Dialog_module_overlay}),(0,jsx_runtime.jsxs)(index_module.VY,{className:Dialog_module_content,style:{maxWidth},children:[(0,jsx_runtime.jsx)(index_module.Dx,{className:Dialog_module_title,children:title}),description&&(0,jsx_runtime.jsx)(index_module.dk,{children:description}),(0,jsx_runtime.jsx)(index_module.x8,{className:Dialog_module_closeButton,"aria-label":closeButtonLabel,children:(0,jsx_runtime.jsx)(react_icons_esm.Pxu,{})}),children]})]})};Dialog.displayName="Dialog";try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!0,type:{name:"(open: boolean) => void"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"medium"'},{value:'"large"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/components/Dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Draggable/Draggable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>Draggable});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),clamp=function clamp(min,value,max){return Math.min(max,Math.max(min,value))},calculateClosestValidSizeComponent=function calculateClosestValidSizeComponent(attemptedSize,gapSize,cellSize,gridSize){var stepSize=cellSize+gapSize,stepNumber=attemptedSize/stepSize,smallerWidth=Math.floor(stepNumber)*stepSize-gapSize,largerWidth=Math.ceil(stepNumber)*stepSize-gapSize;return clamp(cellSize,attemptedSize-smallerWidth<largerWidth-attemptedSize?smallerWidth:largerWidth,gridSize)},calculateClosestValidPositionComponent=function calculateClosestValidPositionComponent(position,gapSize,cellSize,gridSizeComponent,elementSizeComponent){var stepSize=cellSize+gapSize,closestInNegativeDirection=Math.floor(position/stepSize)*stepSize,closestInPositiveDirection=Math.ceil(position/stepSize)*stepSize,negativeIsClosest=Math.abs(position-closestInNegativeDirection)<Math.abs(position-closestInPositiveDirection);return clamp(0,negativeIsClosest?closestInNegativeDirection:closestInPositiveDirection,gridSizeComponent-elementSizeComponent)},getPointerPositionFromEvent=function getPointerPositionFromEvent(event){var pos;if(function isMouseEvent(event){return null!=event.clientX}(event)){pos={x:event.clientX,y:event.clientY}}else{var _event$touches$=event.touches[0];pos={x:_event$touches$.clientX,y:_event$touches$.clientY}}return pos},grid_utils=__webpack_require__("./src/utils/grid.utils.ts"),ContextMenu=__webpack_require__("./src/components/ContextMenu/ContextMenu.tsx"),capitalize=(__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),function capitalize(str){return 0===str.length?"":str[0].toUpperCase()+str.slice(1)});const ScaleHandle_module={scaleHandle:"ScaleHandle-module__scaleHandle--Vf16J",scaleHandleLeft:"ScaleHandle-module__scaleHandleLeft--T1gxZ",scaleHandleTopLeft:"ScaleHandle-module__scaleHandleTopLeft--DRZkY",scaleHandleBottomLeft:"ScaleHandle-module__scaleHandleBottomLeft--_gCqD",scaleHandleRight:"ScaleHandle-module__scaleHandleRight--oTqX4",scaleHandleTopRight:"ScaleHandle-module__scaleHandleTopRight--FGB2K",scaleHandleBottomRight:"ScaleHandle-module__scaleHandleBottomRight--UbrjE",scaleHandleTop:"ScaleHandle-module__scaleHandleTop--Hn64e",scaleHandleBottom:"ScaleHandle-module__scaleHandleBottom--dGTgF"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ScaleHandle=function ScaleHandle(_ref){var labelText=_ref.labelText,position=_ref.position,onScaleStop=_ref.onScaleStop,onScaleStart=_ref.onScaleStart,_React$useState2=_slicedToArray(react.useState(!1),2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1],elementRef=react.useRef(null),className=ScaleHandle_module["scaleHandle"+position.split("-").map(capitalize).join("")],startDrag=react.useCallback((function(event){setIsDragging(!0),onScaleStart(),event.stopPropagation()}),[onScaleStart]),stopDrag=react.useCallback((function(){isDragging&&(setIsDragging(!1),onScaleStop())}),[isDragging,onScaleStop]);return react.useEffect((function(){return window.addEventListener("mouseup",stopDrag),window.addEventListener("touchend",stopDrag),function(){window.removeEventListener("mouseup",stopDrag),window.removeEventListener("touchend",stopDrag)}}),[stopDrag]),(0,jsx_runtime.jsx)("div",{ref:elementRef,role:"button",tabIndex:0,className:ScaleHandle_module.scaleHandle+" "+className+" scaleHandle","aria-label":labelText,onMouseDown:startDrag,onTouchStart:startDrag})};ScaleHandle.displayName="ScaleHandle";try{ScaleHandle.displayName="ScaleHandle",ScaleHandle.__docgenInfo={description:"",displayName:"ScaleHandle",props:{labelText:{defaultValue:null,description:"",name:"labelText",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"top"'},{value:'"top-left"'},{value:'"bottom"'},{value:'"right"'},{value:'"top-right"'},{value:'"bottom-right"'},{value:'"bottom-left"'}]}},onScaleStop:{defaultValue:null,description:"",name:"onScaleStop",required:!0,type:{name:"() => void"}},onScaleStart:{defaultValue:null,description:"",name:"onScaleStart",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"]={docgenInfo:ScaleHandle.__docgenInfo,name:"ScaleHandle",path:"src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"})}catch(__react_docgen_typescript_loader_error){}var ScaleHandles=function ScaleHandles(_ref){var setIsResizing=_ref.setIsResizing,startResize=_ref.startResize,stopResize=_ref.stopResize,verticalScaleHandleLabelText=_ref.verticalScaleHandleLabelText,horizontalScaleHandleLabelText=_ref.horizontalScaleHandleLabelText;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ScaleHandle,{position:"top",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("horizontal-top")},onScaleStop:function onScaleStop(){return stopResize()},labelText:verticalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"top-right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("top")},onScaleStop:function onScaleStop(){return stopResize()},labelText:verticalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("vertical")},onScaleStop:function onScaleStop(){return stopResize()},labelText:horizontalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom-right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("none")},onScaleStop:function onScaleStop(){return stopResize()},labelText:horizontalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("horizontal")},onScaleStop:function onScaleStop(){return stopResize()},labelText:verticalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom-left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("left")},onScaleStop:function onScaleStop(){return stopResize()},labelText:verticalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("vertical-left")},onScaleStop:function onScaleStop(){return stopResize()},labelText:horizontalScaleHandleLabelText}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"top-left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("top-left")},onScaleStop:function onScaleStop(){return stopResize()},labelText:horizontalScaleHandleLabelText})]})};try{ScaleHandles.displayName="ScaleHandles",ScaleHandles.__docgenInfo={description:"",displayName:"ScaleHandles",props:{setIsResizing:{defaultValue:null,description:"",name:"setIsResizing",required:!0,type:{name:"(isResizing: boolean) => void"}},startResize:{defaultValue:null,description:"",name:"startResize",required:!0,type:{name:"(handlePosition: ResizeDirection) => void"}},stopResize:{defaultValue:null,description:"",name:"stopResize",required:!0,type:{name:"() => void"}},verticalScaleHandleLabelText:{defaultValue:null,description:"",name:"verticalScaleHandleLabelText",required:!0,type:{name:"string"}},horizontalScaleHandleLabelText:{defaultValue:null,description:"",name:"horizontalScaleHandleLabelText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScaleHandles/ScaleHandles.tsx#ScaleHandles"]={docgenInfo:ScaleHandles.__docgenInfo,name:"ScaleHandles",path:"src/components/ScaleHandles/ScaleHandles.tsx#ScaleHandles"})}catch(__react_docgen_typescript_loader_error){}var Toolbar=__webpack_require__("./src/components/Toolbar/Toolbar.tsx");const Draggable_module={draggable:"Draggable-module__draggable--QMt20",preview:"Draggable-module__preview--oJIPL",inner:"Draggable-module__inner--K3DDv"};function Draggable_slicedToArray(arr,i){return function Draggable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Draggable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Draggable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Draggable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Draggable_arrayLikeToArray(o,minLen)}(arr,i)||function Draggable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Draggable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var labelTextKeys_selected="draggable_selected",labelTextKeys_notSelected="draggable_not-selected",Draggable=function Draggable(_ref){var id=_ref.id,initialXPosition=_ref.initialXPosition,initialYPosition=_ref.initialYPosition,updatePosition=_ref.updatePosition,initialWidth=_ref.initialWidth,initialHeight=_ref.initialHeight,gapSize=_ref.gapSize,cellSize=_ref.cellSize,gridSize=_ref.gridSize,occupiedCells=_ref.occupiedCells,isPreview=_ref.isPreview,openDeleteDialogue=_ref.openDeleteDialogue,setSelectedItem=_ref.setSelectedItem,selectedItem=_ref.selectedItem,startResize=_ref.startResize,children=_ref.children,mouseOutsideGrid=_ref.mouseOutsideGrid,editItem=_ref.editItem,showScaleHandles=_ref.showScaleHandles,onPointerDown=_ref.onPointerDown,activeTool=_ref.activeTool,_useState2=Draggable_slicedToArray((0,react.useState)(!1),2),isDragging=_useState2[0],setIsDragging=_useState2[1],_useState4=Draggable_slicedToArray((0,react.useState)(selectedItem===id),2),isSelected=_useState4[0],setIsSelected=_useState4[1],_useState6=Draggable_slicedToArray((0,react.useState)((0,H5P_util.t)(labelTextKeys_notSelected)),2),labelText=_useState6[0],setLabelText=_useState6[1],_useState8=Draggable_slicedToArray((0,react.useState)(null),2),pointerStartPosition=_useState8[0],setPointerStartPosition=_useState8[1],_useState10=Draggable_slicedToArray((0,react.useState)({width:calculateClosestValidSizeComponent(initialWidth,gapSize,cellSize,gridSize.width),height:calculateClosestValidSizeComponent(initialHeight,gapSize,cellSize,gridSize.height)}),2),_useState10$=_useState10[0],width=_useState10$.width,height=_useState10$.height,setSize=_useState10[1],_useState12=Draggable_slicedToArray((0,react.useState)({x:calculateClosestValidPositionComponent(initialXPosition,gapSize,cellSize,gridSize.width,width),y:calculateClosestValidPositionComponent(initialYPosition,gapSize,cellSize,gridSize.height,height)}),2),position=_useState12[0],setPosition=_useState12[1],_useState14=Draggable_slicedToArray((0,react.useState)(position),2),previousPosition=_useState14[0],setPreviousPosition=_useState14[1],_useState16=Draggable_slicedToArray((0,react.useState)(!1),2),isResizing=_useState16[0],setIsResizing=_useState16[1];(0,react.useEffect)((function(){return setSize({width:calculateClosestValidSizeComponent(initialWidth,gapSize,cellSize,gridSize.width),height:calculateClosestValidSizeComponent(initialHeight,gapSize,cellSize,gridSize.height)})}),[gapSize,cellSize,gridSize.height,gridSize.width,initialHeight,initialWidth]),(0,react.useEffect)((function(){setPosition({x:calculateClosestValidPositionComponent(initialXPosition,gapSize,cellSize,gridSize.width,width),y:calculateClosestValidPositionComponent(initialYPosition,gapSize,cellSize,gridSize.height,height)})}),[gapSize,cellSize,gridSize.height,gridSize.width,height,initialXPosition,initialYPosition,width]);var elementRef=(0,react.useRef)(null),startDrag=(0,react.useCallback)((function(event){onPointerDown(getPointerPositionFromEvent(event));var aToolIsActive=null!==activeTool,createBoxToolIsActive=activeTool===Toolbar.S.CreateBox;if(!aToolIsActive||createBoxToolIsActive){setIsDragging(!0),setIsSelected(!0),setSelectedItem(id);var _getPointerPositionFr=getPointerPositionFromEvent(event),x=_getPointerPositionFr.x,y=_getPointerPositionFr.y;setPointerStartPosition({x:x-position.x,y:y-position.y})}}),[onPointerDown,activeTool,setSelectedItem,id,position.x,position.y]),getNewPosition=(0,react.useCallback)((function(x,y){return{x,y}}),[]),getClosestValidXPosition=(0,react.useCallback)((function(pointerX){return calculateClosestValidPositionComponent(pointerX,gapSize,cellSize,gridSize.width,width)}),[gapSize,cellSize,gridSize.width,width]),getClosestValidYPosition=(0,react.useCallback)((function(pointerY){return calculateClosestValidPositionComponent(pointerY,gapSize,cellSize,gridSize.height,height)}),[gapSize,cellSize,gridSize.height,height]),checkIfPositionIsFree=(0,react.useCallback)((function(newPosition){return(0,grid_utils.vN)(newPosition,id,{width,height},gridSize,gapSize,cellSize,occupiedCells)}),[gapSize,cellSize,gridSize,height,id,occupiedCells,width]),stopDrag=(0,react.useCallback)((function(){var x=position.x,y=position.y,closestValidXPosition=getClosestValidXPosition(x),closestValidYPosition=getClosestValidYPosition(y);if(null!=closestValidXPosition&&null!=closestValidYPosition){var _newPosition=getNewPosition(closestValidXPosition,closestValidYPosition);checkIfPositionIsFree(_newPosition)?(setPosition(_newPosition),updatePosition(_newPosition),setPreviousPosition(_newPosition)):setPosition(previousPosition)}setPointerStartPosition(null),setIsDragging(!1)}),[position,getClosestValidXPosition,getClosestValidYPosition,getNewPosition,checkIfPositionIsFree,updatePosition,previousPosition]),drag=(0,react.useCallback)((function(event){if(isDragging&&pointerStartPosition)if(mouseOutsideGrid)stopDrag();else{var _getPointerPositionFr2=getPointerPositionFromEvent(event),x=_getPointerPositionFr2.x,y=_getPointerPositionFr2.y,newPosition=getNewPosition(x-pointerStartPosition.x,y-pointerStartPosition.y);setPosition(newPosition)}}),[isDragging,pointerStartPosition,mouseOutsideGrid,getNewPosition,stopDrag]),preventDefault=(0,react.useCallback)((function(event){event.preventDefault()}),[]);(0,react.useEffect)((function(){setLabelText(isSelected?(0,H5P_util.t)(labelTextKeys_selected):(0,H5P_util.t)(labelTextKeys_notSelected))}),[isSelected]);(0,react.useEffect)((function(){return window.addEventListener("mousemove",drag),window.addEventListener("touchmove",drag),function(){window.removeEventListener("mousemove",drag),window.removeEventListener("touchmove",drag)}}),[drag]);var stopResize=(0,react.useCallback)((function(){stopDrag(),setIsResizing(!1)}),[stopDrag]),contextMenuActions=(0,react.useMemo)((function(){return[{icon:ContextMenu.B.Edit,label:(0,H5P_util.t)("context-menu_edit"),onClick:function onClick(){return editItem(id)}},{icon:ContextMenu.B.Delete,label:(0,H5P_util.t)("context-menu_delete"),onClick:function onClick(){return openDeleteDialogue(id)}}]}),[editItem,id,openDeleteDialogue]);return(0,jsx_runtime.jsxs)("div",{id,ref:elementRef,role:"button",tabIndex:0,draggable:"true",onDragStart:preventDefault,"aria-grabbed":isDragging,className:Draggable_module.draggable+" "+(isPreview&&Draggable_module.preview)+" draggable "+(activeTool===Toolbar.S.CreateArrow&&Draggable_module.arrow_mode),onMouseDown:startDrag,onTouchStart:startDrag,style:{transform:"translateX("+position.x+"px) translateY("+position.y+"px)",width:width+2,height:height+2,zIndex:isDragging||selectedItem===id?2:void 0,pointerEvents:isPreview||isResizing?"none":void 0,transition:isPreview||isResizing?"none":void 0},"aria-label":labelText,onMouseUp:stopDrag,onTouchEnd:stopDrag,onDoubleClick:function onDoubleClick(){return editItem(id)},"data-draggable":!0,children:[(0,jsx_runtime.jsx)("div",{className:Draggable_module.inner,tabIndex:-1,children}),activeTool!==Toolbar.S.CreateArrow&&showScaleHandles&&(0,jsx_runtime.jsx)(ScaleHandles,{setIsResizing,startResize,stopResize,verticalScaleHandleLabelText:"",horizontalScaleHandleLabelText:""}),(0,jsx_runtime.jsx)(ContextMenu.x,{actions:contextMenuActions,show:selectedItem===id,turnLeft:(0,grid_utils.uk)(position.x,gridSize.width)})]})};Draggable.displayName="Draggable";try{Draggable.displayName="Draggable",Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},initialXPosition:{defaultValue:null,description:"",name:"initialXPosition",required:!0,type:{name:"number"}},initialYPosition:{defaultValue:null,description:"",name:"initialYPosition",required:!0,type:{name:"number"}},updatePosition:{defaultValue:null,description:"",name:"updatePosition",required:!0,type:{name:"(newPosition: Position) => void"}},initialWidth:{defaultValue:null,description:"",name:"initialWidth",required:!0,type:{name:"number"}},initialHeight:{defaultValue:null,description:"",name:"initialHeight",required:!0,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},cellSize:{defaultValue:null,description:"",name:"cellSize",required:!0,type:{name:"number"}},gridSize:{defaultValue:null,description:"",name:"gridSize",required:!0,type:{name:"Size"}},occupiedCells:{defaultValue:null,description:"",name:"occupiedCells",required:!0,type:{name:"OccupiedCell[]"}},isPreview:{defaultValue:null,description:"",name:"isPreview",required:!0,type:{name:"boolean"}},openDeleteDialogue:{defaultValue:null,description:"",name:"openDeleteDialogue",required:!0,type:{name:"(id: string) => void"}},setSelectedItem:{defaultValue:null,description:"",name:"setSelectedItem",required:!0,type:{name:"(newItem: string | null) => void"}},selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!0,type:{name:"string | null"}},startResize:{defaultValue:null,description:"",name:"startResize",required:!0,type:{name:"(directionLock: ResizeDirection) => void"}},mouseOutsideGrid:{defaultValue:null,description:"",name:"mouseOutsideGrid",required:!0,type:{name:"boolean"}},editItem:{defaultValue:null,description:"",name:"editItem",required:!0,type:{name:"(id: string) => void"}},showScaleHandles:{defaultValue:null,description:"",name:"showScaleHandles",required:!0,type:{name:"boolean"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!0,type:{name:"(pointerPosition: Position) => void"}},activeTool:{defaultValue:null,description:"",name:"activeTool",required:!0,type:{name:"ToolbarButtonType | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/Draggable.tsx#Draggable"]={docgenInfo:Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/Draggable.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Grid/Grid.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>Grid});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var dist=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useEffectOnce=__webpack_require__("./node_modules/react-use/esm/useEffectOnce.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),ArrowType=__webpack_require__("./src/types/ArrowType.ts"),arrow_utils=__webpack_require__("./src/utils/arrow.utils.ts"),grid_utils=__webpack_require__("./src/utils/grid.utils.ts"),Arrow=__webpack_require__("./src/components/Arrow/Arrow.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ArrowIndicator=function ArrowIndicator(_ref){var position=_ref.position,cellSize=_ref.cellSize,gapSize=_ref.gapSize,placement={x:(position.x-.5)*(cellSize+gapSize),y:(position.y-.5)*(cellSize+gapSize)};return(0,jsx_runtime.jsx)("circle",{cx:placement.x,cy:placement.y,r:cellSize/3,strokeWidth:"2",stroke:"var(--theme-color-4)",fill:"var(--theme-color-3)"})};ArrowIndicator.displayName="ArrowIndicator";try{ArrowIndicator.displayName="ArrowIndicator",ArrowIndicator.__docgenInfo={description:"",displayName:"ArrowIndicator",props:{position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"Position"}},cellSize:{defaultValue:null,description:"",name:"cellSize",required:!0,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ArrowIndicator/ArrowIndicator.tsx#ArrowIndicator"]={docgenInfo:ArrowIndicator.__docgenInfo,name:"ArrowIndicator",path:"src/components/ArrowIndicator/ArrowIndicator.tsx#ArrowIndicator"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.join.js");const ArrowIndicator_module_arrowSvg="ArrowIndicator-module__arrowSvg--kLvg_";var ArrowIndicatorContainer=function ArrowIndicatorContainer(_ref){var arrowIndicators=_ref.arrowIndicators,breakpoints=_ref.breakpoints,cellSize=_ref.cellSize,gapSize=_ref.gapSize,currentMousePosition=_ref.currentMousePosition,toPathElement=function toPathElement(position){return(position.x-.5)*(cellSize+gapSize)+" "+(position.y-.5)*(cellSize+gapSize)},pathDef=breakpoints&&breakpoints.length>0?"M "+toPathElement(breakpoints[0])+" "+breakpoints.map((function(pos){return"L "+toPathElement(pos)})).join(" ")+" "+(currentMousePosition?"L "+toPathElement(currentMousePosition):""):"";return(0,jsx_runtime.jsxs)("svg",{className:ArrowIndicator_module_arrowSvg,children:[arrowIndicators,(0,jsx_runtime.jsx)("path",{d:pathDef,fill:"transparent",stroke:"var(--theme-color-4)",strokeOpacity:.5,strokeWidth:.66*cellSize})]})};ArrowIndicatorContainer.displayName="ArrowIndicatorContainer";try{ArrowIndicatorContainer.displayName="ArrowIndicatorContainer",ArrowIndicatorContainer.__docgenInfo={description:"",displayName:"ArrowIndicatorContainer",props:{arrowIndicators:{defaultValue:null,description:"",name:"arrowIndicators",required:!0,type:{name:"Element[]"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"Position[]"}},cellSize:{defaultValue:null,description:"",name:"cellSize",required:!0,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},currentMousePosition:{defaultValue:null,description:"",name:"currentMousePosition",required:!0,type:{name:"Position | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ArrowIndicator/ArrowIndicatorContainer.tsx#ArrowIndicatorContainer"]={docgenInfo:ArrowIndicatorContainer.__docgenInfo,name:"ArrowIndicatorContainer",path:"src/components/ArrowIndicator/ArrowIndicatorContainer.tsx#ArrowIndicatorContainer"})}catch(__react_docgen_typescript_loader_error){}var Draggable=__webpack_require__("./src/components/Draggable/Draggable.tsx"),GridIndicator=__webpack_require__("./src/components/GridIndicator/GridIndicator.tsx"),Toolbar=__webpack_require__("./src/components/Toolbar/Toolbar.tsx"),TopicMapItem=__webpack_require__("./src/components/TopicMapItem/TopicMapItem.tsx");const Grid_module_grid="Grid-module__grid--fFABg",Grid_module_gridIndicatorsActive="Grid-module__gridIndicatorsActive--jqdHD",Grid_module_isCreatingArrow="Grid-module__isCreatingArrow--Ju18O";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Grid=function Grid(_ref){var numberOfColumns=_ref.numberOfColumns,numberOfRows=_ref.numberOfRows,initialItems=_ref.initialItems,updateItems=_ref.updateItems,initialArrowItems=_ref.initialArrowItems,updateArrowItems=_ref.updateArrowItems,updateGridDimensions=_ref.updateGridDimensions,gapSize=_ref.gapSize,setActiveTool=_ref.setActiveTool,activeTool=_ref.activeTool,setEditedItem=_ref.setEditedItem,setEditedArrow=_ref.setEditedArrow,setSelectedItem=_ref.setSelectedItem,selectedItem=_ref.selectedItem,openDeleteDialogue=_ref.openDeleteDialogue,updateGrid=_ref.updateGrid,currentItemsLength=_ref.currentItemsLength,setCurrentItemsLength=_ref.setCurrentItemsLength,_useState2=_slicedToArray((0,react.useState)(null),2),size=_useState2[0],setSize=_useState2[1],_useState4=_slicedToArray((0,react.useState)(initialItems),2),items=_useState4[0],setItems=_useState4[1],_useState6=_slicedToArray((0,react.useState)(null!=initialArrowItems?initialArrowItems:[]),2),arrowItems=_useState6[0],setArrowItems=_useState6[1],_useState8=_slicedToArray((0,react.useState)([]),2),occupiedCells=_useState8[0],setOccupiedCells=_useState8[1],_useState10=_slicedToArray((0,react.useState)(null),2),boxStartIndex=_useState10[0],setBoxStartIndex=_useState10[1],_useState12=_slicedToArray((0,react.useState)(!1),2),isDragging=_useState12[0],setIsDragging=_useState12[1],_useState14=_slicedToArray((0,react.useState)(null),2),resizedItemId=_useState14[0],setResizedItemId=_useState14[1],_useState16=_slicedToArray((0,react.useState)("none"),2),resizeDirectionLock=_useState16[0],setResizeDirectionLock=_useState16[1],_useState18=_slicedToArray((0,react.useState)(!1),2),mouseOutsideGrid=_useState18[0],setMouseOutsideGrid=_useState18[1],_useState20=_slicedToArray((0,react.useState)(null),2),prevIndex=_useState20[0],setPrevIndex=_useState20[1],_useState22=_slicedToArray((0,react.useState)([]),2),arrowIndicators=_useState22[0],setArrowIndicators=_useState22[1],_useState24=_slicedToArray((0,react.useState)(null),2),arrowStartId=_useState24[0],setArrowStartId=_useState24[1],_useState26=_slicedToArray((0,react.useState)(null),2),ahPreviewGridPosition=_useState26[0],setAhPreviewGridPosition=_useState26[1],updateLocalGrid=function updateLocalGrid(newItems){setItems(newItems)},_useState28=_slicedToArray((0,react.useState)(null),2),currentMousePosition=_useState28[0],setCurrentMousePosition=_useState28[1];(0,useEffectOnce.Z)((function(){updateGrid.current=updateLocalGrid,updateGridDimensions({numberOfColumns,numberOfRows})}));var elementRef=(0,react.useRef)(null);(0,react.useEffect)((function(){setAhPreviewGridPosition(null),setArrowStartId(null),setArrowIndicators([]),setCurrentMousePosition(null)}),[activeTool]);var getCellSize=(0,react.useCallback)((function(){if(!elementRef.current)return 0;var gridIndicator=elementRef.current.querySelector(".grid-indicator");if(!gridIndicator)throw new Error("No grid indicators were rendered.");var width=gridIndicator.getBoundingClientRect().width;return Math.round(width*Math.pow(10,4))/Math.pow(10,4)}),[size]),cellSize=(0,react.useMemo)(getCellSize,[gapSize,getCellSize,elementRef.current]),updateItemSize=(0,react.useCallback)((function(updatedItem,newSize){if(!size)throw new Error("Grid has no size.");var newItems=(0,grid_utils.$G)(items,updatedItem,size.width,size.height,{newSize});updateItems(newItems),setItems(newItems),setOccupiedCells((0,grid_utils.uf)(items.map((function(item){return(0,grid_utils.o2)(item,size,cellSize)})),size.width,size.height,gapSize,cellSize))}),[gapSize,cellSize,items,size,updateItems]),createArrow=(0,react.useCallback)((function(elementId,pointerPosition){if(activeTool===Toolbar.S.CreateArrow){var gridIndicator=document.elementsFromPoint(pointerPosition.x,pointerPosition.y).find((function(element){return element.classList.contains("grid-indicator")})),gridPosition={x:parseInt(gridIndicator.dataset.x,10),y:parseInt(gridIndicator.dataset.y,10)};if(!!!arrowStartId)return setArrowStartId(elementId),setAhPreviewGridPosition(gridPosition),void setArrowIndicators([gridPosition]);if(!(arrowStartId===elementId)&&arrowStartId&&null!==ahPreviewGridPosition){var arrowType=ArrowType.n.Directional,label=(0,arrow_utils.id)(arrowStartId,elementId,arrowType,items),adjustedStartGridPosition=(0,arrow_utils.vX)(ahPreviewGridPosition,gridPosition,arrowType),cellsOfItem=occupiedCells.filter((function(c){return c.occupiedById===elementId})),endPosition=(0,arrow_utils.L_)(arrowIndicators.slice(-1)[0],gridPosition,cellsOfItem,numberOfColumns),adjustedEndGridPosition=(0,arrow_utils.nr)(arrowIndicators.slice(-1)[0],endPosition,arrowType),newItem=(0,grid_utils.i6)(arrowStartId,elementId,label,arrowType,(0,grid_utils.FS)(adjustedStartGridPosition,numberOfColumns,numberOfRows),(0,grid_utils.FS)(adjustedEndGridPosition,numberOfColumns,numberOfRows),ahPreviewGridPosition,endPosition,arrowIndicators.slice(1),arrowIndicators.slice(1).map((function(breakpointPosition){return(0,grid_utils.FS)({x:breakpointPosition.x-.5,y:breakpointPosition.y-.5},numberOfColumns,numberOfRows)}))),_newItems=[].concat(_toConsumableArray(arrowItems),[newItem]);updateArrowItems(_newItems),setArrowItems(_newItems)}else setArrowStartId(null),setAhPreviewGridPosition(null),setArrowIndicators([]);setArrowIndicators([]),setArrowStartId(null),setAhPreviewGridPosition(null)}}),[activeTool,arrowStartId,ahPreviewGridPosition,items,occupiedCells,numberOfColumns,arrowIndicators,numberOfRows,arrowItems,updateArrowItems]),createBoxStart=(0,react.useCallback)((function(index){activeTool===Toolbar.S.CreateBox&&(setBoxStartIndex(index),setIsDragging(!0))}),[activeTool]),createBoxEnd=(0,react.useCallback)((function(){activeTool===Toolbar.S.CreateBox&&(setIsDragging(!1),setBoxStartIndex(null),setCurrentItemsLength(items.length))}),[activeTool,items.length,setCurrentItemsLength]),indicatorClicked=(0,react.useCallback)((function(index){if(activeTool===Toolbar.S.CreateBox&&createBoxStart(index),activeTool===Toolbar.S.CreateArrow&&null!==arrowStartId){var newArrowIndicators=[].concat(_toConsumableArray(arrowIndicators),[{y:Math.floor(index/numberOfColumns)+1,x:index%numberOfColumns+1}]);setArrowIndicators(newArrowIndicators)}}),[activeTool,arrowIndicators,arrowStartId,createBoxStart,numberOfColumns]),resizeBoxEnd=(0,react.useCallback)((function(){setPrevIndex(null),setResizedItemId(null),setBoxStartIndex(null),setResizeDirectionLock("none")}),[]),createBoxEnter=(0,react.useCallback)((function(indicatorIndex){if(activeTool===Toolbar.S.CreateBox&&isDragging){if(null==boxStartIndex)throw new Error("Box start position is not defined.");if(!size)throw new Error("Grid has no size.");var dragLeft=(0,grid_utils.A0)(indicatorIndex,boxStartIndex,numberOfColumns),dragUp=(0,grid_utils.bP)(indicatorIndex,boxStartIndex,numberOfColumns,numberOfRows),x=dragLeft?indicatorIndex%numberOfColumns:boxStartIndex%numberOfColumns,y=dragUp?Math.floor(indicatorIndex/numberOfColumns):Math.floor(boxStartIndex/numberOfColumns),xPercentagePosition=x/numberOfColumns*100,yPercentagePosition=y/numberOfRows*100,heightPercentage=((dragUp?Math.floor(boxStartIndex/numberOfColumns):Math.floor(indicatorIndex/numberOfColumns))+1)/numberOfRows*100-yPercentagePosition,indicatorValue=dragLeft?boxStartIndex+1:indicatorIndex+1,widthPercentage=(indicatorValue%numberOfColumns==0?100:indicatorValue%numberOfColumns/numberOfColumns*100)-xPercentagePosition,alreadyAdded=items.length!==currentItemsLength&&null!=items[currentItemsLength],newItem=(0,grid_utils.zj)();newItem.xPercentagePosition=xPercentagePosition,newItem.widthPercentage=widthPercentage,newItem.yPercentagePosition=yPercentagePosition,newItem.heightPercentage=heightPercentage;var newPosition={x:(0,grid_utils.kl)(xPercentagePosition,size.width),y:(0,grid_utils.kl)(yPercentagePosition,size.height)},newSize={width:(0,grid_utils.U8)(widthPercentage,size.width,cellSize),height:(0,grid_utils.U8)(heightPercentage,size.height,cellSize)},lastItem=items[currentItemsLength],posIsFree=(0,grid_utils.vN)(newPosition,alreadyAdded?lastItem.id:newItem.id,newSize,size,gapSize,cellSize,occupiedCells);if(posIsFree&&!alreadyAdded){var _newItems2=[].concat(_toConsumableArray(items),[newItem]);updateItems(_newItems2),setItems(_newItems2)}if(posIsFree&&alreadyAdded)if(dragLeft||dragUp){var _newItems3=(0,grid_utils.$G)(items,lastItem,size.width,size.height,{newPosition,newSize});updateItems(_newItems3),setItems(_newItems3)}else updateItemSize(lastItem,newSize)}}),[activeTool,isDragging,boxStartIndex,size,numberOfColumns,numberOfRows,currentItemsLength,items,gapSize,cellSize,occupiedCells,updateItems,updateItemSize]),resizeBoxEnter=(0,react.useCallback)((function(indicatorIndex){var isResizing=null!=resizedItemId;if(isResizing){if(null==boxStartIndex)throw new Error("Box start position is not defined.");if(!size)throw new Error("Grid has no size.");var existingItem=(0,grid_utils.i$)(resizedItemId,items);if(!existingItem)throw new Error('Resized item with id "'+resizedItemId+'" does not exist');var dragLeft=indicatorIndex%numberOfColumns<(null!=prevIndex?prevIndex:indicatorIndex)%numberOfColumns,dragUp=(null!=prevIndex?prevIndex:indicatorIndex)>=indicatorIndex,onlyScaleVertically=resizeDirectionLock.includes("horizontal"),onlyScaleHorizontally=resizeDirectionLock.includes("vertical"),leftHandle=resizeDirectionLock.includes("left"),topHandle=resizeDirectionLock.includes("top"),x=leftHandle?indicatorIndex%numberOfColumns:boxStartIndex%numberOfColumns,y=topHandle?Math.floor(indicatorIndex/numberOfColumns):Math.floor(boxStartIndex/numberOfColumns),xPercentagePosition=onlyScaleVertically?existingItem.xPercentagePosition:x/numberOfColumns*100,yPercentagePosition=onlyScaleHorizontally?existingItem.yPercentagePosition:y/numberOfRows*100,yEndPercentagePosition=((topHandle?Math.floor((boxStartIndex+existingItem.widthPercentage)/numberOfColumns):Math.floor(indicatorIndex/numberOfColumns))+1)/numberOfRows*100,heightPercentage=(0,grid_utils.y8)(onlyScaleHorizontally,topHandle,dragUp,existingItem,yPercentagePosition,yEndPercentagePosition),indicatorValue=indicatorIndex+1,xEndPercentagePosition=indicatorValue%numberOfColumns==0?100:indicatorValue%numberOfColumns/numberOfColumns*100,widthPercentage=(0,grid_utils.Ow)(onlyScaleVertically,leftHandle,dragLeft,existingItem,xPercentagePosition,xEndPercentagePosition),newPosition={x:(0,grid_utils.kl)(xPercentagePosition,size.width),y:(0,grid_utils.kl)(yPercentagePosition,size.height)},newSize={width:(0,grid_utils.U8)(widthPercentage,size.width,cellSize),height:(0,grid_utils.U8)(heightPercentage,size.height,cellSize)};if((0,grid_utils.gY)(widthPercentage,size.width,heightPercentage,size.height)&&(newPosition={x:(0,grid_utils.kl)(existingItem.xPercentagePosition,size.width),y:(0,grid_utils.kl)(existingItem.yPercentagePosition,size.height)}),setPrevIndex(indicatorIndex),(0,grid_utils.vN)(newPosition,existingItem.id,newSize,size,gapSize,cellSize,occupiedCells)&&isResizing)if(leftHandle||topHandle){var _newItems4=(0,grid_utils.$G)(items,existingItem,size.width,size.height,{newPosition,newSize});updateItems(_newItems4),setItems(_newItems4)}else updateItemSize(existingItem,newSize)}}),[resizedItemId,boxStartIndex,size,numberOfColumns,numberOfRows,items,gapSize,cellSize,occupiedCells,updateItems,resizeDirectionLock,updateItemSize,prevIndex]),cancelActions=(0,react.useCallback)((function(){var isCreatingNewBox=activeTool===Toolbar.S.CreateBox&&isDragging,isResizing=null!=resizedItemId;isCreatingNewBox&&createBoxEnd(),isResizing&&resizeBoxEnd(),mouseOutsideGrid||setMouseOutsideGrid(!0)}),[activeTool,isDragging,resizedItemId,createBoxEnd,resizeBoxEnd,mouseOutsideGrid]),activeHoverOnGrid=(0,react.useMemo)((function(){return activeTool===Toolbar.S.CreateBox}),[activeTool]),onGridIndicatorMouseEnter=(0,react.useCallback)((function(indicatorIndex){null!=resizedItemId&&resizeBoxEnter(indicatorIndex),activeTool===Toolbar.S.CreateBox&&createBoxEnter(indicatorIndex),activeTool===Toolbar.S.CreateArrow&&null!=arrowStartId&&setCurrentMousePosition({y:Math.floor(indicatorIndex/numberOfColumns)+1,x:indicatorIndex%numberOfColumns+1})}),[activeTool,arrowStartId,createBoxEnter,numberOfColumns,resizeBoxEnter,resizedItemId]),gridIndicators=(0,react.useMemo)((function(){var label=(0,H5P_util.t)("grid-indicator_label");return Array(numberOfColumns*numberOfRows).fill(null).map((function(_,index){return{id:dist.H5P.createUUID(),label,index}}))}),[numberOfColumns,numberOfRows]),gridIndicatorElements=(0,react.useMemo)((function(){return gridIndicators.map((function(_ref2){var id=_ref2.id,index=_ref2.index,label=_ref2.label;return(0,jsx_runtime.jsx)(GridIndicator.c,{onMouseDown:function onMouseDown(){return indicatorClicked(index)},onMouseEnter:function onMouseEnter(){return onGridIndicatorMouseEnter(index)},label,position:{y:Math.floor(index/numberOfColumns)+1,x:index%numberOfColumns+1}},id)}))}),[gridIndicators,numberOfColumns,indicatorClicked,onGridIndicatorMouseEnter]),updateItemPosition=(0,react.useCallback)((function(updatedItem,newPosition){if(!size)throw new Error("Grid has no size.");if(activeTool!==Toolbar.S.CreateArrow){var newItems=(0,grid_utils.$G)(items,updatedItem,size.width,size.height,{newPosition});updateItems(newItems),setItems(newItems);var elements=items.map((function(item){return(0,grid_utils.o2)(item,size,cellSize)})),newOccupiedCells=(0,grid_utils.uf)(elements,size.width,size.height,gapSize,cellSize);setOccupiedCells(newOccupiedCells)}}),[size,activeTool,items,updateItems,gapSize,cellSize]),editItem=(0,react.useCallback)((function(id){activeTool&&setActiveTool(null),setEditedItem(id)}),[activeTool,setActiveTool,setEditedItem]),editArrow=(0,react.useCallback)((function(id){activeTool&&setActiveTool(null),setEditedArrow(id)}),[activeTool,setActiveTool,setEditedArrow]),deleteArrow=(0,react.useCallback)((function(id){var newArrowItems=arrowItems.filter((function(item){return item.id!==id}));updateArrowItems(newArrowItems),setArrowItems(newArrowItems)}),[arrowItems,updateArrowItems]),_startResize=(0,react.useCallback)((function(item,directionLock){var x=Math.floor(item.xPercentagePosition/100*numberOfColumns),y=Math.floor(item.yPercentagePosition/100*numberOfRows);setBoxStartIndex(x+y*numberOfColumns),setResizedItemId(item.id),setResizeDirectionLock(directionLock),updateGridDimensions({numberOfColumns,numberOfRows})}),[numberOfColumns,numberOfRows,updateGridDimensions]),setArrowType=(0,react.useCallback)((function(type,id){var updatedItem=arrowItems.find((function(item){return item.id===id}));if(!updatedItem)throw new Error('Updated arrow with id "'+id+'" does not exist');if(updatedItem){var newItem=(0,arrow_utils.hi)(arrowItems,updatedItem,type,items,{numberOfColumns,numberOfRows});updateArrowItems(newItem),setArrowItems(newItem)}}),[arrowItems,items,updateArrowItems,numberOfColumns,numberOfRows]),children=(0,react.useMemo)((function(){return null==size?null:items.map((function(item){return(0,jsx_runtime.jsx)(Draggable._,{id:item.id,initialXPosition:(0,grid_utils.kl)(item.xPercentagePosition,size.width),initialYPosition:(0,grid_utils.kl)(item.yPercentagePosition,size.height),updatePosition:function updatePosition(newPosition){return updateItemPosition(item,newPosition)},initialWidth:Math.abs((0,grid_utils.kl)(item.widthPercentage,size.width)),initialHeight:Math.abs((0,grid_utils.kl)(item.heightPercentage,size.height)),gapSize,cellSize,gridSize:size,occupiedCells,isPreview:isDragging,editItem,openDeleteDialogue,setSelectedItem,selectedItem,startResize:function startResize(directionLock){return _startResize(item,directionLock)},mouseOutsideGrid,showScaleHandles:!0,onPointerDown:function onPointerDown(pointerPosition){return createArrow(item.id,pointerPosition)},activeTool,children:(0,jsx_runtime.jsx)(TopicMapItem.d,{item})},item.id)}))}),[size,items,gapSize,cellSize,occupiedCells,isDragging,editItem,openDeleteDialogue,setSelectedItem,selectedItem,mouseOutsideGrid,activeTool,updateItemPosition,_startResize,createArrow]),renderArrow=(0,react.useCallback)((function(item){return size?(0,jsx_runtime.jsx)(Arrow.E,{cellSize,gapSize,item,editItem:editArrow,deleteItem:deleteArrow,selectedItemId:selectedItem,setSelectedItemId:setSelectedItem,updateArrowType:setArrowType,gridWidth:size.width,arrowStartId},item.id):null}),[cellSize,deleteArrow,editArrow,gapSize,selectedItem,setArrowType,setSelectedItem,size,arrowStartId]),childrenArrows=(0,react.useMemo)((function(){return arrowItems.map((function(item){return renderArrow(item)}))}),[arrowItems,renderArrow]),childrenArrowIndicators=(0,react.useMemo)((function(){return arrowIndicators.map((function(position){return(0,jsx_runtime.jsx)(ArrowIndicator,{position,cellSize,gapSize},position.x+"-"+position.y)}))}),[arrowIndicators,cellSize,gapSize]),resize=(0,react.useCallback)((function(){window.requestAnimationFrame((function(){if(elementRef.current){var _elementRef$current$g=elementRef.current.getBoundingClientRect(),width=_elementRef$current$g.width,height=_elementRef$current$g.height;if(!(null==size)){var scaleFactor=size.width/width;1!==scaleFactor&&setItems((0,grid_utils.Ot)(items,scaleFactor))}setSize({width,height})}}))}),[items,size]);(0,useEffectOnce.Z)((function(){var windowClickListener=function windowClickListener(event){!!event.target.closest(".draggable, .arrow-item, .context-menu-button, .scaleHandle")||setSelectedItem(null)};window.addEventListener("resize",resize),window.addEventListener("mousedown",windowClickListener),window.addEventListener("touchstart",windowClickListener),resize()})),(0,react.useEffect)((function(){resize()}),[numberOfColumns,numberOfRows]),(0,react.useEffect)((function(){size&&setOccupiedCells((0,grid_utils.uf)(items.map((function(item){return(0,grid_utils.o2)(item,size,cellSize)})),size.width,size.height,gapSize,cellSize))}),[gapSize,cellSize,items,size]);var className=Grid_module_grid;return activeHoverOnGrid&&(className+=" "+Grid_module_gridIndicatorsActive),activeTool===Toolbar.S.CreateArrow&&(className+=" "+Grid_module_isCreatingArrow),(0,react.useEffect)((function(){selectedItem||setMouseOutsideGrid(!1)}),[selectedItem]),(0,jsx_runtime.jsxs)("div",{ref:elementRef,role:"application",className,style:{"--gap-size":gapSize+"px",gridTemplateColumns:"repeat("+numberOfColumns+", 1fr)",gridTemplateRows:"repeat("+numberOfRows+", 1fr)",cursor:isDragging?"pointer":"auto"},onMouseUp:function onMouseUp(){createBoxEnd(),resizeBoxEnd()},onMouseLeave:function onMouseLeave(){return cancelActions()},onMouseEnter:function onMouseEnter(){mouseOutsideGrid&&setMouseOutsideGrid(!1)},children:[childrenArrows,children,gridIndicatorElements,(0,jsx_runtime.jsx)(ArrowIndicatorContainer,{arrowIndicators:childrenArrowIndicators,cellSize,gapSize,breakpoints:arrowIndicators,currentMousePosition})]})};Grid.displayName="Grid";try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{numberOfColumns:{defaultValue:null,description:"",name:"numberOfColumns",required:!0,type:{name:"number"}},numberOfRows:{defaultValue:null,description:"",name:"numberOfRows",required:!0,type:{name:"number"}},initialItems:{defaultValue:null,description:"",name:"initialItems",required:!0,type:{name:"TopicMapItemType[]"}},updateItems:{defaultValue:null,description:"",name:"updateItems",required:!0,type:{name:"(items: TopicMapItemType[]) => void"}},initialArrowItems:{defaultValue:null,description:"",name:"initialArrowItems",required:!1,type:{name:"ArrowItemType[]"}},updateArrowItems:{defaultValue:null,description:"",name:"updateArrowItems",required:!0,type:{name:"(items: ArrowItemType[]) => void"}},updateGridDimensions:{defaultValue:null,description:"",name:"updateGridDimensions",required:!0,type:{name:"(dimensions: GridDimensions) => void"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},setActiveTool:{defaultValue:null,description:"",name:"setActiveTool",required:!0,type:{name:"(newValue: ToolbarButtonType | null) => void"}},activeTool:{defaultValue:null,description:"",name:"activeTool",required:!0,type:{name:"ToolbarButtonType | null"}},setEditedItem:{defaultValue:null,description:"",name:"setEditedItem",required:!0,type:{name:"(itemId: string) => void"}},setEditedArrow:{defaultValue:null,description:"",name:"setEditedArrow",required:!0,type:{name:"(itemId: string) => void"}},setSelectedItem:{defaultValue:null,description:"",name:"setSelectedItem",required:!0,type:{name:"(itemId: string | null) => void"}},selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!0,type:{name:"string | null"}},openDeleteDialogue:{defaultValue:null,description:"",name:"openDeleteDialogue",required:!0,type:{name:"(itemId: string) => void"}},updateGrid:{defaultValue:null,description:"",name:"updateGrid",required:!0,type:{name:"MutableRefObject<(newItems: TopicMapItemType[]) => void>"}},currentItemsLength:{defaultValue:null,description:"",name:"currentItemsLength",required:!0,type:{name:"number"}},setCurrentItemsLength:{defaultValue:null,description:"",name:"setCurrentItemsLength",required:!0,type:{name:"(itemsLength: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/Grid.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/Grid.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GridIndicator/GridIndicator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>GridIndicator});var react=__webpack_require__("./node_modules/react/index.js");const GridIndicator_module_gridIndicator="GridIndicator-module__gridIndicator--pHc2y";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),GridIndicator=react.memo((function(_ref){var onMouseDown=_ref.onMouseDown,onMouseEnter=_ref.onMouseEnter,label=_ref.label,position=_ref.position;return(0,jsx_runtime.jsx)("button",{type:"button",className:"grid-indicator "+GridIndicator_module_gridIndicator,onMouseDown,onMouseEnter,onTouchStart:onMouseDown,onTouchMove:onMouseEnter,"aria-label":label,"data-grid-indicator":"true","data-x":position.x,"data-y":position.y})}),(function(prevProps,nextProps){return prevProps.onMouseDown===nextProps.onMouseDown&&prevProps.onMouseEnter===nextProps.onMouseEnter}));try{GridIndicator.displayName="GridIndicator",GridIndicator.__docgenInfo={description:"",displayName:"GridIndicator",props:{onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!0,type:{name:"() => void"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!0,type:{name:"() => void"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"Position"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridIndicator/GridIndicator.tsx#GridIndicator"]={docgenInfo:GridIndicator.__docgenInfo,name:"GridIndicator",path:"src/components/GridIndicator/GridIndicator.tsx#GridIndicator"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Icons/Icons.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>Icon});__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MapAppearance=function MapAppearance(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})]})};MapAppearance.displayName="MapAppearance";try{MapAppearance.displayName="MapAppearance",MapAppearance.__docgenInfo={description:"",displayName:"MapAppearance",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/MapAppearance.tsx#MapAppearance"]={docgenInfo:MapAppearance.__docgenInfo,name:"MapAppearance",path:"src/icons/MapAppearance.tsx#MapAppearance"})}catch(__react_docgen_typescript_loader_error){}var CreateBox=function CreateBox(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"})]})};CreateBox.displayName="CreateBox";try{CreateBox.displayName="CreateBox",CreateBox.__docgenInfo={description:"",displayName:"CreateBox",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/CreateBox.tsx#CreateBox"]={docgenInfo:CreateBox.__docgenInfo,name:"CreateBox",path:"src/icons/CreateBox.tsx#CreateBox"})}catch(__react_docgen_typescript_loader_error){}var CreateArrow=function CreateArrow(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,jsx_runtime.jsx)("path",{d:"M15,5l-1.41,1.41L18.17,11H2V13h16.17l-4.59,4.59L15,19l7-7L15,5z"})]})};CreateArrow.displayName="CreateArrow";try{CreateArrow.displayName="CreateArrow",CreateArrow.__docgenInfo={description:"",displayName:"CreateArrow",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/CreateArrow.tsx#CreateArrow"]={docgenInfo:CreateArrow.__docgenInfo,name:"CreateArrow",path:"src/icons/CreateArrow.tsx#CreateArrow"})}catch(__react_docgen_typescript_loader_error){}var Edit=function Edit(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})]})};Edit.displayName="Edit";try{Edit.displayName="Edit",Edit.__docgenInfo={description:"",displayName:"Edit",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Edit.tsx#Edit"]={docgenInfo:Edit.__docgenInfo,name:"Edit",path:"src/icons/Edit.tsx#Edit"})}catch(__react_docgen_typescript_loader_error){}var Delete=function Delete(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]})};Delete.displayName="Delete";try{Delete.displayName="Delete",Delete.__docgenInfo={description:"",displayName:"Delete",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Delete.tsx#Delete"]={docgenInfo:Delete.__docgenInfo,name:"Delete",path:"src/icons/Delete.tsx#Delete"})}catch(__react_docgen_typescript_loader_error){}var BiDirectionalArrow=function BiDirectionalArrow(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,jsx_runtime.jsx)("path",{d:"M16,5l-1.4,1.4l4.6,4.6H3v2h16.2l-4.6,4.6L16,19l7-7L16,5z"}),(0,jsx_runtime.jsx)("path",{d:"M7.8,19l1.4-1.4L4.6,13h16.2v-2H4.6l4.6-4.6L7.8,5l-7,7L7.8,19z"})]})};BiDirectionalArrow.displayName="BiDirectionalArrow";try{BiDirectionalArrow.displayName="BiDirectionalArrow",BiDirectionalArrow.__docgenInfo={description:"",displayName:"BiDirectionalArrow",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/BiDirectionalArrow.tsx#BiDirectionalArrow"]={docgenInfo:BiDirectionalArrow.__docgenInfo,name:"BiDirectionalArrow",path:"src/icons/BiDirectionalArrow.tsx#BiDirectionalArrow"})}catch(__react_docgen_typescript_loader_error){}var SingleLine=function SingleLine(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,jsx_runtime.jsx)("path",{d:"M19.2,11H3v2h16.2 M4.6,13h16.2v-2H4.6"})]})};SingleLine.displayName="SingleLine";try{SingleLine.displayName="SingleLine",SingleLine.__docgenInfo={description:"",displayName:"SingleLine",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/SingleLine.tsx#SingleLine"]={docgenInfo:SingleLine.__docgenInfo,name:"SingleLine",path:"src/icons/SingleLine.tsx#SingleLine"})}catch(__react_docgen_typescript_loader_error){}var Toolbar=__webpack_require__("./src/components/Toolbar/Toolbar.tsx"),ContextMenu=__webpack_require__("./src/components/ContextMenu/ContextMenu.tsx"),Icon=function Icon(_ref){var _icons,_icons$icon,icon=_ref.icon,className=_ref.className,icons=((_icons={})[Toolbar.S.MapAppearance]=MapAppearance,_icons[Toolbar.S.CreateBox]=CreateBox,_icons[Toolbar.S.CreateArrow]=CreateArrow,_icons[ContextMenu.B.Edit]=Edit,_icons[ContextMenu.B.Delete]=Delete,_icons[ContextMenu.B.ArrowDirectional]=CreateArrow,_icons[ContextMenu.B.ArrowBiDirectional]=BiDirectionalArrow,_icons[ContextMenu.B.ArrowNonDirectional]=SingleLine,_icons),defaultIcon=MapAppearance,CurrentIcon=null!==(_icons$icon=icons[icon])&&void 0!==_icons$icon?_icons$icon:defaultIcon;return(0,jsx_runtime.jsx)(CurrentIcon,{className})};Icon.displayName="Icon";try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"delete"'},{value:'"directional"'},{value:'"biDirectional"'},{value:'"nonDirectional"'},{value:'"mapAppearance"'},{value:'"createBox"'},{value:'"createArrow"'}]}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icons/Icons.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/components/Icons/Icons.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MapEditorView/MapEditorView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>MapEditorView});__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var dist=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),arrow_utils=__webpack_require__("./src/utils/arrow.utils.ts"),grid_utils=__webpack_require__("./src/utils/grid.utils.ts"),form_utils=__webpack_require__("./src/utils/H5P/form.utils.ts"),ArrowItemForm=__webpack_require__("./src/components/ArrowItemForm/ArrowItemForm.tsx"),Dialog=__webpack_require__("./src/components/Dialog/Dialog.tsx"),Grid=__webpack_require__("./src/components/Grid/Grid.tsx"),Toolbar=__webpack_require__("./src/components/Toolbar/Toolbar.tsx"),TopicMapItemForm=__webpack_require__("./src/components/TopicMapItemForm/TopicMapItemForm.tsx");const MapEditorView_module_mapEditorView="MapEditorView-module__mapEditorView--Ad3Vt",MapEditorView_module_gridBorder="MapEditorView-module__gridBorder--UVJss",MapEditorView_module_backgroundImage="MapEditorView-module__backgroundImage--IOH6l",MapEditorView_module_deleteConfirmationPositive="MapEditorView-module__deleteConfirmationPositive--vz23N",MapEditorView_module_deleteConfirmationNegative="MapEditorView-module__deleteConfirmationNegative--q_Mwh",MapEditorView_module_deleteConfirmationButtons="MapEditorView-module__deleteConfirmationButtons--JTBSe";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MapEditorView=function MapEditorView(_ref){var _params$topicMapItems,_params$arrowItems,_params$gridBackgroun,_params$gridBackgroun2,gapSize=_ref.gapSize,numberOfColumns=_ref.numberOfColumns,numberOfRows=_ref.numberOfRows,params=_ref.params,parent=_ref.parent,semantics=_ref.semantics,setParams=_ref.setParams,columns=null!=numberOfColumns?numberOfColumns:31,rows=null!=numberOfRows?numberOfRows:19,_useState2=_slicedToArray((0,react.useState)(null),2),activeTool=_useState2[0],setActiveTool=_useState2[1],_useState4=_slicedToArray((0,react.useState)(null!==(_params$topicMapItems=params.topicMapItems)&&void 0!==_params$topicMapItems?_params$topicMapItems:[]),2),gridItems=_useState4[0],setGridItems=_useState4[1],_useState6=_slicedToArray((0,react.useState)(null!==(_params$arrowItems=params.arrowItems)&&void 0!==_params$arrowItems?_params$arrowItems:[]),2),arrowItems=_useState6[0],setArrowItems=_useState6[1],_useState8=_slicedToArray((0,react.useState)(null),2),editedItem=_useState8[0],setEditedItem=_useState8[1],_useState10=_slicedToArray((0,react.useState)(null),2),deletedItem=_useState10[0],setDeletedItem=_useState10[1],_useState12=_slicedToArray((0,react.useState)(null),2),selectedItem=_useState12[0],setSelectedItem=_useState12[1],_useState14=_slicedToArray((0,react.useState)(gridItems.length),2),currentItemsLength=_useState14[0],setCurrentItemsLength=_useState14[1],_useState16=_slicedToArray((0,react.useState)(null),2),editedArrow=_useState16[0],setEditedArrow=_useState16[1],_useState18=_slicedToArray((0,react.useState)(!1),2),showDeleteConfirmationDialog=_useState18[0],setShowDeleteConfirmationDialog=_useState18[1],updateGrid=react.useRef((function(newItems){return updateGrid.current(newItems)})),setActive=function setActive(newValue){setActiveTool(newValue)},updateGridDimensions=react.useCallback((function(newGrid){setParams({grid:newGrid})}),[setParams]),updateArrows=react.useCallback((function(items){setParams({arrowItems:items}),setArrowItems(items)}),[setParams]),updateItems=react.useCallback((function(items){if(arrowItems.length>0){var updatedArrows=(0,arrow_utils.iO)(arrowItems,items);updateArrows(updatedArrows),setArrowItems(updatedArrows)}setParams({topicMapItems:items}),setGridItems(items),updateGrid.current(items)}),[arrowItems,setParams,updateArrows]),openDeleteDialogue=react.useCallback((function(itemId){setDeletedItem(itemId),setShowDeleteConfirmationDialog(!0)}),[]),deleteArrow=react.useCallback((function(id){var newItems=arrowItems.filter((function(item){return item.id!==id}));updateArrows(newItems),setArrowItems(newItems)}),[arrowItems,updateArrows]),deleteItem=react.useCallback((function(){var newItems=gridItems.filter((function(item){return item.id!==deletedItem}));(0,grid_utils.Z2)(null!=deletedItem?deletedItem:"",arrowItems).forEach((function(item){return deleteArrow(item.id)})),updateItems(newItems),setGridItems(newItems),updateGrid.current(newItems),setShowDeleteConfirmationDialog(!1),setSelectedItem(null),setCurrentItemsLength(newItems.length)}),[arrowItems,deleteArrow,deletedItem,gridItems,updateItems]),denyDeletion=react.useCallback((function(){setShowDeleteConfirmationDialog(!1),setSelectedItem(null)}),[]),topicMapItemFormDialogTitle=(0,H5P_util.t)("map-editor-view_item-dialog-title"),backgroundImageField=react.useMemo((function(){var bgImgField=(0,form_utils.x4)(semantics);if(!bgImgField)throw new Error("Background image field not found. Was it removed from semantics, or did its name change?");return bgImgField}),[semantics]),backgroundImage=null!==(_params$gridBackgroun=params.gridBackgroundImage)&&void 0!==_params$gridBackgroun&&_params$gridBackgroun.path?"url("+(0,dist.getImageUrl)(null===(_params$gridBackgroun2=params.gridBackgroundImage)||void 0===_params$gridBackgroun2?void 0:_params$gridBackgroun2.path)+")":void 0;return(0,jsx_runtime.jsxs)("div",{className:MapEditorView_module_mapEditorView,children:[(0,jsx_runtime.jsx)(Toolbar.o,{setActiveTool:setActive,activeTool,isArrowButtonDisabled:gridItems.length<2,setParams,params,parent,backgroundImageField}),(0,jsx_runtime.jsxs)("div",{className:MapEditorView_module_gridBorder+" "+(backgroundImage?MapEditorView_module_backgroundImage:""),style:{backgroundImage},children:[(0,jsx_runtime.jsx)(Grid.r,{numberOfColumns:columns,numberOfRows:rows,initialItems:gridItems,updateItems,initialArrowItems:arrowItems,updateArrowItems:updateArrows,updateGridDimensions,gapSize:null!=gapSize?gapSize:4,setActiveTool:setActive,activeTool,setEditedItem,setEditedArrow,setSelectedItem,selectedItem,openDeleteDialogue,updateGrid,currentItemsLength,setCurrentItemsLength}),(0,jsx_runtime.jsx)(Dialog.V,{isOpen:showDeleteConfirmationDialog,title:(0,H5P_util.t)("draggable_delete-confirmation"),onOpenChange:function onOpenChange(isOpen){isOpen||(setDeletedItem(null),denyDeletion())},size:"medium",children:(0,jsx_runtime.jsxs)("div",{className:MapEditorView_module_deleteConfirmationButtons,children:[(0,jsx_runtime.jsx)("button",{type:"button",className:MapEditorView_module_deleteConfirmationPositive,onClick:deleteItem,children:(0,H5P_util.t)("draggable_delete-positive")}),(0,jsx_runtime.jsx)("button",{type:"button",className:MapEditorView_module_deleteConfirmationNegative,onClick:denyDeletion,children:(0,H5P_util.t)("draggable_delete-negative")})]})}),(0,jsx_runtime.jsxs)(Dialog.V,{isOpen:Boolean(semantics&&(editedItem||editedArrow)),title:topicMapItemFormDialogTitle,size:"large",onOpenChange:function onOpenChange(isOpen){isOpen||(setEditedItem(null),setEditedArrow(null))},children:[editedItem?(0,jsx_runtime.jsx)(TopicMapItemForm.Q,{itemId:editedItem,semantics,params,parent,onSave:function onSave(newParams){var _newParams$topicMapIt,_newParams$arrowItems;updateItems(null!==(_newParams$topicMapIt=newParams.topicMapItems)&&void 0!==_newParams$topicMapIt?_newParams$topicMapIt:[]),updateArrows(null!==(_newParams$arrowItems=newParams.arrowItems)&&void 0!==_newParams$arrowItems?_newParams$arrowItems:[]),setEditedItem(null)}}):null,editedArrow?(0,jsx_runtime.jsx)(ArrowItemForm.E,{itemId:editedArrow,semantics,params,parent,onSave:function onSave(newParams){var _newParams$arrowItems2;updateArrows(null!==(_newParams$arrowItems2=newParams.arrowItems)&&void 0!==_newParams$arrowItems2?_newParams$arrowItems2:[]),setEditedArrow(null)}}):null]})]})]})};MapEditorView.displayName="MapEditorView";try{MapEditorView.displayName="MapEditorView",MapEditorView.__docgenInfo={description:"",displayName:"MapEditorView",props:{gapSize:{defaultValue:null,description:"",name:"gapSize",required:!1,type:{name:"number"}},numberOfColumns:{defaultValue:null,description:"",name:"numberOfColumns",required:!1,type:{name:"number"}},numberOfRows:{defaultValue:null,description:"",name:"numberOfRows",required:!1,type:{name:"number"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}},semantics:{defaultValue:null,description:"",name:"semantics",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: "group" | H5PFieldType.Group; widget?: string | undefined; fields: H5PField[]; isSubContent?: boolean | undefined; expanded?: boolean | undefined; }'}},setParams:{defaultValue:null,description:"",name:"setParams",required:!0,type:{name:"(updatedParams: Partial<Params>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MapEditorView/MapEditorView.tsx#MapEditorView"]={docgenInfo:MapEditorView.__docgenInfo,name:"MapEditorView",path:"src/components/MapEditorView/MapEditorView.tsx#MapEditorView"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/SemanticsForm/SemanticsForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>SemanticsForm});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var dist=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts");const SemanticsForm_module_saveButton="SemanticsForm-module__saveButton--reFWO";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SemanticsForm=function SemanticsForm(_ref){var fields=_ref.fields,params=_ref.params,parent=_ref.parent,formClassName=_ref.formClassName,onSave=_ref.onSave,generatedFormRef=react.useRef(null),saveLabel=(0,H5P_util.t)("semantics-form_save"),_React$useState2=_slicedToArray(react.useState(!1),2),hasRendered=_React$useState2[0],setHasRendered=_React$useState2[1];return react.useEffect((function(){setHasRendered(!0)}),[]),react.useEffect((function(){if(generatedFormRef.current&&!hasRendered){var $wrapper=dist.H5PEditor.$(generatedFormRef.current);dist.H5PEditor.processSemanticsChunk(fields,params,$wrapper,parent)}}),[fields,params,parent,generatedFormRef,hasRendered]),(0,jsx_runtime.jsxs)("form",{className:formClassName+" h5peditor",onSubmit:function onSubmit(event){return event.preventDefault()},children:[(0,jsx_runtime.jsx)("div",{ref:generatedFormRef}),(0,jsx_runtime.jsx)("button",{type:"button",className:SemanticsForm_module_saveButton,onClick:function onClick(){return onSave(params)},children:saveLabel})]})};SemanticsForm.displayName="SemanticsForm";try{SemanticsForm.displayName="SemanticsForm",SemanticsForm.__docgenInfo={description:"",displayName:"SemanticsForm",props:{fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"H5PField[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(params: Params) => void"}},formClassName:{defaultValue:null,description:"",name:"formClassName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SemanticsForm/SemanticsForm.tsx#SemanticsForm"]={docgenInfo:SemanticsForm.__docgenInfo,name:"SemanticsForm",path:"src/components/SemanticsForm/SemanticsForm.tsx#SemanticsForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ThemePicker/ThemePicker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>ThemePicker});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),theme_utils=__webpack_require__("./src/utils/theme.utils.ts");const ThemePicker_module_buttons="ThemePicker-module__buttons--oPzza",ThemePicker_module_button="ThemePicker-module__button--Pw5XQ",ThemePicker_module_buttonActive="ThemePicker-module__buttonActive--AL9Py",ThemePicker_module_colorCircles="ThemePicker-module__colorCircles--S_ty8",ThemePicker_module_colorCircle="ThemePicker-module__colorCircle--OUuPi";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ThemePicker=function ThemePicker(_ref){var setTheme=_ref.setTheme,activeTheme=_ref.activeTheme,renderColorCircles=react.useCallback((function(){return Array.from({length:4}).map((function(_,index){return(0,jsx_runtime.jsx)("span",{className:ThemePicker_module_colorCircle,style:{backgroundColor:"var(--theme-color-"+(index+1)+")"}},index)}))}),[]),colorThemes=react.useMemo((function(){return theme_utils.n.map((function(_ref2){var labelKey=_ref2.labelKey,value=_ref2.value;return(0,jsx_runtime.jsxs)("button",{type:"button",className:"theme-"+value+" "+ThemePicker_module_button+(value===activeTheme?" "+ThemePicker_module_buttonActive:""),onClick:function onClick(){return setTheme(value)},children:[(0,H5P_util.t)(labelKey),(0,jsx_runtime.jsx)("div",{className:ThemePicker_module_colorCircles,children:renderColorCircles()})]},value)}))}),[activeTheme,renderColorCircles,setTheme]),themePickerLabel=(0,H5P_util.t)("theme-picker_label");return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"h5peditor-label",children:themePickerLabel}),(0,jsx_runtime.jsx)("div",{className:ThemePicker_module_buttons,children:colorThemes})]})};try{ThemePicker.displayName="ThemePicker",ThemePicker.__docgenInfo={description:"",displayName:"ThemePicker",props:{activeTheme:{defaultValue:null,description:"",name:"activeTheme",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'}]}},setTheme:{defaultValue:null,description:"",name:"setTheme",required:!0,type:{name:"(theme: ColorTheme) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ThemePicker/ThemePicker.tsx#ThemePicker"]={docgenInfo:ThemePicker.__docgenInfo,name:"ThemePicker",path:"src/components/ThemePicker/ThemePicker.tsx#ThemePicker"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Toolbar/Toolbar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>Toolbar,S:()=>ToolbarButtonType});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),H5P_util=__webpack_require__("./src/H5P/H5P.util.ts"),AppearanceDialog=__webpack_require__("./src/components/AppearanceDialog/AppearanceDialog.tsx"),ToolbarButton=__webpack_require__("./src/components/ToolbarButton/ToolbarButton.tsx");const Toolbar_module_toolbar="Toolbar-module__toolbar--HNb3u";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ToolbarButtonType,labelTextKeys_mapAppearance="toolbar-button-type_map-appearance",labelTextKeys_createBox="toolbar-button-type_create-box",labelTextKeys_createArrow="toolbar-button-type_create-arrow",labelTextKeys_cannotCreateArrow="toolbar-button-type_cannot-create-arrow";!function(ToolbarButtonType){ToolbarButtonType.MapAppearance="mapAppearance",ToolbarButtonType.CreateBox="createBox",ToolbarButtonType.CreateArrow="createArrow"}(ToolbarButtonType||(ToolbarButtonType={}));var Toolbar=function Toolbar(_ref){var setActiveTool=_ref.setActiveTool,activeTool=_ref.activeTool,isArrowButtonDisabled=_ref.isArrowButtonDisabled,setParams=_ref.setParams,backgroundImageField=_ref.backgroundImageField,params=_ref.params,parent=_ref.parent,_React$useState2=_slicedToArray(react.useState(activeTool),2),activeButton=_React$useState2[0],setActiveButton=_React$useState2[1],_React$useState4=_slicedToArray(react.useState(!1),2),appearanceDialogOpen=_React$useState4[0],setAppearanceDialogOpen=_React$useState4[1],setActive=function setActive(newValue){setActiveButton(activeButton!==newValue?newValue:null),setActiveTool(activeButton!==newValue?newValue:null)},checkIfActive=react.useCallback((function(type){var activeB=activeButton===type,activeT=activeTool===type;return!(!activeB||!activeT)||!(!activeB||activeT)&&(setActiveButton(activeTool),!0)}),[activeButton,activeTool]);return(0,jsx_runtime.jsxs)("div",{className:Toolbar_module_toolbar,children:[(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.MapAppearance,label:(0,H5P_util.t)(labelTextKeys_mapAppearance),onClick:function onClick(){return setAppearanceDialogOpen((function(wasOpen){return!wasOpen}))},active:!1,showActive:!1,isDisabled:!1}),(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.CreateBox,label:(0,H5P_util.t)(labelTextKeys_createBox),onClick:function onClick(){return setActive(ToolbarButtonType.CreateBox)},active:checkIfActive(ToolbarButtonType.CreateBox),showActive:!0,isDisabled:!1}),(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.CreateArrow,label:isArrowButtonDisabled?(0,H5P_util.t)(labelTextKeys_cannotCreateArrow):(0,H5P_util.t)(labelTextKeys_createArrow),onClick:function onClick(){return setActive(ToolbarButtonType.CreateArrow)},active:checkIfActive(ToolbarButtonType.CreateArrow),showActive:!0,isDisabled:isArrowButtonDisabled}),(0,jsx_runtime.jsx)(AppearanceDialog.X,{isOpen:appearanceDialogOpen,setIsOpen:setAppearanceDialogOpen,onSave:setParams,backgroundImageField,params,parent})]})};Toolbar.displayName="Toolbar";try{Toolbar.displayName="Toolbar",Toolbar.__docgenInfo={description:"",displayName:"Toolbar",props:{setActiveTool:{defaultValue:null,description:"",name:"setActiveTool",required:!0,type:{name:"(activeTool: ToolbarButtonType | null) => void"}},activeTool:{defaultValue:null,description:"",name:"activeTool",required:!0,type:{name:"ToolbarButtonType | null"}},isArrowButtonDisabled:{defaultValue:null,description:"",name:"isArrowButtonDisabled",required:!0,type:{name:"boolean"}},setParams:{defaultValue:null,description:"",name:"setParams",required:!0,type:{name:"(params: Params) => void"}},backgroundImageField:{defaultValue:null,description:"",name:"backgroundImageField",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: H5PFieldType.Image | "image"; widget?: string | undefined; }'}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Toolbar/Toolbar.tsx#Toolbar"]={docgenInfo:Toolbar.__docgenInfo,name:"Toolbar",path:"src/components/Toolbar/Toolbar.tsx#Toolbar"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ToolbarButton/ToolbarButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>ToolbarButton});__webpack_require__("./node_modules/react/index.js");const ToolbarButton_module_toolbarButton="ToolbarButton-module__toolbarButton--JxC1F",ToolbarButton_module_tooltip="ToolbarButton-module__tooltip--E7IYr",ToolbarButton_module_icon="ToolbarButton-module__icon--kS6cj",ToolbarButton_module_active="ToolbarButton-module__active--kOvUQ";var Icons=__webpack_require__("./src/components/Icons/Icons.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ToolbarButton=function ToolbarButton(_ref){var icon=_ref.icon,label=_ref.label,onClick=_ref.onClick,showActive=_ref.showActive,active=_ref.active,isDisabled=_ref.isDisabled;return(0,jsx_runtime.jsxs)("button",{type:"button",className:active&&showActive?ToolbarButton_module_toolbarButton+" "+ToolbarButton_module_active:ToolbarButton_module_toolbarButton,disabled:isDisabled,onClick,"aria-label":label,children:[(0,jsx_runtime.jsx)(Icons.J,{icon,className:ToolbarButton_module_icon}),(0,jsx_runtime.jsx)("div",{className:ToolbarButton_module_tooltip,children:label})]})};ToolbarButton.displayName="ToolbarButton";try{ToolbarButton.displayName="ToolbarButton",ToolbarButton.__docgenInfo={description:"",displayName:"ToolbarButton",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"mapAppearance"'},{value:'"createBox"'},{value:'"createArrow"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}},showActive:{defaultValue:null,description:"",name:"showActive",required:!0,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"]={docgenInfo:ToolbarButton.__docgenInfo,name:"ToolbarButton",path:"src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/TopicMapItem/TopicMapItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>TopicMapItem});__webpack_require__("./node_modules/core-js/modules/es.string.small.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js");var BreakpointSize,_breakpointSize,dist=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),AppWidthContext=__webpack_require__("./src/contexts/AppWidthContext.ts");!function(BreakpointSize){BreakpointSize[BreakpointSize.Large=0]="Large",BreakpointSize[BreakpointSize.Medium=1]="Medium",BreakpointSize[BreakpointSize.Small=2]="Small"}(BreakpointSize||(BreakpointSize={}));var breakpointSize=((_breakpointSize={})[BreakpointSize.Large]=1440,_breakpointSize[BreakpointSize.Medium]=1024,_breakpointSize[BreakpointSize.Small]=512,_breakpointSize);const TopicMapItem_module={topicMapItem:"TopicMapItem-module__topicMapItem--wFBpu",large:"TopicMapItem-module__large--YxStI",inner:"TopicMapItem-module__inner--PlRJo",medium:"TopicMapItem-module__medium--fH8uV",small:"TopicMapItem-module__small--F3zP0",image:"TopicMapItem-module__image--_riEm",noImage:"TopicMapItem-module__noImage--OXb2j",label:"TopicMapItem-module__label--rED26",description:"TopicMapItem-module__description--B6dBY"};var _sizeClassname,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),sizeClassname=((_sizeClassname={})[BreakpointSize.Large]=TopicMapItem_module.large,_sizeClassname[BreakpointSize.Medium]=TopicMapItem_module.medium,_sizeClassname[BreakpointSize.Small]=TopicMapItem_module.small,_sizeClassname),TopicMapItem=function TopicMapItem(_ref){var _item$topicImage,_item$topicImageAltTe,_item$topicImage2,item=_ref.item,imageUrl=(0,dist.getImageUrl)(null===(_item$topicImage=item.topicImage)||void 0===_item$topicImage?void 0:_item$topicImage.path),AppWidth=function useAppWidth(){var appWidth=(0,react.useContext)(AppWidthContext.B),isLarge=appWidth>breakpointSize[BreakpointSize.Large],isMedium=appWidth>breakpointSize[BreakpointSize.Medium];return isLarge?BreakpointSize.Large:isMedium?BreakpointSize.Medium:BreakpointSize.Small}(),className=react.useMemo((function(){return[TopicMapItem_module.topicMapItem,sizeClassname[AppWidth]].join(" ")}),[AppWidth]);return(0,jsx_runtime.jsxs)("div",{className,children:[item.topicImage&&imageUrl&&(0,jsx_runtime.jsx)("img",{className:TopicMapItem_module.image,src:imageUrl,alt:null!==(_item$topicImageAltTe=item.topicImageAltText)&&void 0!==_item$topicImageAltTe?_item$topicImageAltTe:"",width:item.topicImage.width,height:item.topicImage.height}),(0,jsx_runtime.jsxs)("div",{className:TopicMapItem_module.inner+" "+(null!==(_item$topicImage2=item.topicImage)&&void 0!==_item$topicImage2&&_item$topicImage2.path?"":TopicMapItem_module.noImage),children:[(0,jsx_runtime.jsx)("div",{className:TopicMapItem_module.label,dangerouslySetInnerHTML:{__html:item.label}}),item.description&&(0,jsx_runtime.jsx)("div",{className:TopicMapItem_module.description,dangerouslySetInnerHTML:{__html:item.description}})]})]})};TopicMapItem.displayName="TopicMapItem";try{TopicMapItem.displayName="TopicMapItem",TopicMapItem.__docgenInfo={description:"",displayName:"TopicMapItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"TopicMapItemTypeWithoutPositions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TopicMapItem/TopicMapItem.tsx#TopicMapItem"]={docgenInfo:TopicMapItem.__docgenInfo,name:"TopicMapItem",path:"src/components/TopicMapItem/TopicMapItem.tsx#TopicMapItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/TopicMapItemForm/TopicMapItemForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>TopicMapItemForm});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),_utils_arrow_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/utils/arrow.utils.ts"),_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/utils/H5P/form.utils.ts"),_SemanticsForm_SemanticsForm__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/SemanticsForm/SemanticsForm.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TopicMapItemForm=function TopicMapItemForm(_ref){var semantics=_ref.semantics,params=_ref.params,parent=_ref.parent,itemId=_ref.itemId,onSave=_ref.onSave,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_15__.useState(),2),topicMapItemsField=_React$useState2[0],setTopicMapItemsField=_React$useState2[1],_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_15__.useState(),2),formParams=_React$useState4[0],setFormParams=_React$useState4[1];react__WEBPACK_IMPORTED_MODULE_15__.useEffect((function(){var field=(0,_utils_H5P_form_utils__WEBPACK_IMPORTED_MODULE_17__.k$)(semantics);setTopicMapItemsField(field),params.topicMapItems&&setFormParams(Object.assign({},params,{topicMapItems:params.topicMapItems.filter((function(item){return item.id===itemId}))}))}),[itemId,params,semantics]);var onUpdate=react__WEBPACK_IMPORTED_MODULE_15__.useCallback((function(newParams){var _params$topicMapItems,_params$topicMapItems2,_params$arrowItems,_params$arrowItems2;if(newParams.topicMapItems){var updatedItem=newParams.topicMapItems[0],updatedItems=null!==(_params$topicMapItems=null===(_params$topicMapItems2=params.topicMapItems)||void 0===_params$topicMapItems2?void 0:_params$topicMapItems2.map((function(item){return item.id===updatedItem.id?updatedItem:item})))&&void 0!==_params$topicMapItems?_params$topicMapItems:[],unaffectedArrows=(null===(_params$arrowItems=params.arrowItems)||void 0===_params$arrowItems?void 0:_params$arrowItems.filter((function(arrow){return arrow.startElementId!==updatedItem.id&&arrow.endElementId!==updatedItem.id})))||[],affectedArrows=(null===(_params$arrowItems2=params.arrowItems)||void 0===_params$arrowItems2?void 0:_params$arrowItems2.filter((function(arrow){return arrow.startElementId===updatedItem.id||arrow.endElementId===updatedItem.id})).map((function(arrow){return Object.assign({},arrow,{label:(0,_utils_arrow_utils__WEBPACK_IMPORTED_MODULE_16__.id)(arrow.startElementId,arrow.endElementId,arrow.arrowType,updatedItems)})})))||[],updatedArrows=[].concat(_toConsumableArray(unaffectedArrows),_toConsumableArray(affectedArrows));onSave(Object.assign({},newParams,{topicMapItems:updatedItems,arrowItems:updatedArrows}))}}),[onSave,params.arrowItems,params.topicMapItems]);return formParams&&topicMapItemsField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_SemanticsForm_SemanticsForm__WEBPACK_IMPORTED_MODULE_18__.G,{fields:[topicMapItemsField],params:formParams,parent,onSave:onUpdate,formClassName:"topic-map-item-form"}):null};try{TopicMapItemForm.displayName="TopicMapItemForm",TopicMapItemForm.__docgenInfo={description:"",displayName:"TopicMapItemForm",props:{semantics:{defaultValue:null,description:"",name:"semantics",required:!0,type:{name:'H5PFieldCommon & H5PFieldWidgetExtension & { type: "group" | H5PFieldType.Group; widget?: string | undefined; fields: H5PField[]; isSubContent?: boolean | undefined; expanded?: boolean | undefined; }'}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"Params"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"H5PForm<unknown>"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!0,type:{name:"string"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(params: Params) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TopicMapItemForm/TopicMapItemForm.tsx#TopicMapItemForm"]={docgenInfo:TopicMapItemForm.__docgenInfo,name:"TopicMapItemForm",path:"src/components/TopicMapItemForm/TopicMapItemForm.tsx#TopicMapItemForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/contexts/AppWidthContext.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>AppWidthContext});var AppWidthContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)(0)},"./src/types/ArrowType.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ArrowType;__webpack_require__.d(__webpack_exports__,{n:()=>ArrowType}),function(ArrowType){ArrowType.Directional="0",ArrowType.BiDirectional="1",ArrowType.NonDirectional="2"}(ArrowType||(ArrowType={}))},"./src/types/ColorTheme.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ColorTheme;__webpack_require__.d(__webpack_exports__,{U:()=>ColorTheme}),function(ColorTheme){ColorTheme.Blue="1",ColorTheme.Green="2",ColorTheme.Red="3",ColorTheme.Gray="4"}(ColorTheme||(ColorTheme={}))},"./src/utils/H5P/form.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Dk:()=>getEmptyParams,Gs:()=>fillInMissingParamsProperties,RU:()=>getArrowItemsField,k$:()=>getTopicMapItemsField,x4:()=>getBackgroundImageField});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var h5p_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/h5p-utils/dist/index.js"),getSingleField=function getSingleField(fieldName,semantics){if(!h5p_utils__WEBPACK_IMPORTED_MODULE_2__.H5PEditor.findSemanticsField)return null;var field=h5p_utils__WEBPACK_IMPORTED_MODULE_2__.H5PEditor.findSemanticsField(fieldName,semantics);if(!field)throw new Error("Could not find the `"+fieldName+"` field");return Array.isArray(field)?(console.error("`"+fieldName+"` is an array, which means that more than one field with the name was found.",field),field[0]):field},getTopicMapItemsField=function getTopicMapItemsField(semantics){return getSingleField("topicMapItems",semantics)},getArrowItemsField=function getArrowItemsField(semantics){return getSingleField("arrowItems",semantics)},getBackgroundImageField=function getBackgroundImageField(semantics){return getSingleField("gridBackgroundImage",semantics)},getEmptyParams=function getEmptyParams(){return{topicMapItems:[],arrowItems:[]}},fillInMissingParamsProperties=function fillInMissingParamsProperties(partialParams){return Object.assign({},getEmptyParams(),partialParams)}},"./src/utils/arrow.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JZ:()=>yAdjustmentStart,L_:()=>findBoxEdgePosition,_b:()=>xAdjustmentStart,fj:()=>yAdjustmentEnd,hi:()=>updateArrowType,iO:()=>updateArrowLabels,id:()=>getLabel,nr:()=>adjustArrowEndPosition,vX:()=>adjustArrowStartPosition,w3:()=>xAdjustmentEnd});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js");var _arrowLabelJoins,_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/types/ArrowType.ts"),_grid_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/utils/grid.utils.ts"),arrowLabelJoins=((_arrowLabelJoins={})[_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional]="↔",_arrowLabelJoins[_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.Directional]="⟶",_arrowLabelJoins[_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.NonDirectional]="―",_arrowLabelJoins),getLabel=function getLabel(startItemId,endItemId,arrowType,items){var startItem=(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.i$)(startItemId,items),endItem=(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.i$)(endItemId,items);if(!startItem)throw new Error("Start item not found");if(!endItem)throw new Error("End item not found");return startItem.label+" "+arrowLabelJoins[arrowType]+" "+endItem.label},updateArrowLabels=function updateArrowLabels(items,topicMapItems){return items.map((function(item){var startItem=(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.i$)(item.startElementId,topicMapItems),endItem=(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.i$)(item.endElementId,topicMapItems);if(!startItem||!endItem)return item;var label=getLabel(startItem.id,endItem.id,item.arrowType,topicMapItems);return Object.assign({},item,{label})}))},calculateIsHorizontal=function calculateIsHorizontal(startPosition,endPosition){return Math.abs(startPosition.x-endPosition.x)>Math.abs(startPosition.y-endPosition.y)},xAdjustmentStart=function xAdjustmentStart(item,isHorizontal){if(item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional){if(isHorizontal&&item.startGridPosition.x<=item.endGridPosition.x)return.5;if(isHorizontal)return-1.5}return-.5},yAdjustmentStart=function yAdjustmentStart(item,isHorizontal){if(item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional){if(!isHorizontal&&item.startGridPosition.y<=item.endGridPosition.y)return.5;if(!isHorizontal)return-1.75}return-.5},xAdjustmentEnd=function xAdjustmentEnd(item){var _item$breakpoints$sli,_item$breakpoints,sourcePosition=null!==(_item$breakpoints$sli=null===(_item$breakpoints=item.breakpoints)||void 0===_item$breakpoints?void 0:_item$breakpoints.slice(-1)[0])&&void 0!==_item$breakpoints$sli?_item$breakpoints$sli:item.startGridPosition,isHorizontal=calculateIsHorizontal(sourcePosition,item.endGridPosition);return item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.Directional||item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional?isHorizontal&&sourcePosition.x<=item.endGridPosition.x?-1.75:isHorizontal?.5:-.5:item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.NonDirectional?(isHorizontal&&(sourcePosition.x,item.endGridPosition.x),-.5):0},yAdjustmentEnd=function yAdjustmentEnd(item){var _item$breakpoints$sli2,_item$breakpoints2,sourcePosition=null!==(_item$breakpoints$sli2=null===(_item$breakpoints2=item.breakpoints)||void 0===_item$breakpoints2?void 0:_item$breakpoints2.slice(-1)[0])&&void 0!==_item$breakpoints$sli2?_item$breakpoints$sli2:item.startGridPosition,isHorizontal=calculateIsHorizontal(sourcePosition,item.endGridPosition);return item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.Directional||item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.BiDirectional?isHorizontal?-.5:sourcePosition.y<=item.endGridPosition.y?-1.75:.5:item.arrowType===_types_ArrowType__WEBPACK_IMPORTED_MODULE_4__.n.NonDirectional?(!isHorizontal&&(sourcePosition.y,item.endGridPosition.y),-.5):0},adjustArrowStartPosition=function adjustArrowStartPosition(startPosition,endPosition,arrowType){var isHorizontal=calculateIsHorizontal(startPosition,endPosition);return{x:startPosition.x+xAdjustmentStart({arrowType,startGridPosition:startPosition,endGridPosition:endPosition},isHorizontal),y:startPosition.y+yAdjustmentStart({arrowType,startGridPosition:startPosition,endGridPosition:endPosition},isHorizontal)}},adjustArrowEndPosition=function adjustArrowEndPosition(startPosition,endPosition,arrowType){return{x:endPosition.x+xAdjustmentEnd({arrowType,startGridPosition:startPosition,endGridPosition:endPosition,breakpoints:[]}),y:endPosition.y+yAdjustmentEnd({arrowType,startGridPosition:startPosition,endGridPosition:endPosition,breakpoints:[]})}},updateArrowType=function updateArrowType(items,updatedItem,arrowType,topicMapItems,dimensions){return items.map((function(item){if(!(item.id===updatedItem.id))return item;var label=getLabel(item.startElementId,item.endElementId,arrowType,topicMapItems);return Object.assign({},item,{arrowType,label,startPosition:(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.FS)(adjustArrowStartPosition(item.startGridPosition,item.endGridPosition,arrowType),dimensions.numberOfColumns,dimensions.numberOfRows),endPosition:(0,_grid_utils__WEBPACK_IMPORTED_MODULE_5__.FS)(adjustArrowEndPosition(item.startGridPosition,item.endGridPosition,arrowType),dimensions.numberOfColumns,dimensions.numberOfRows)})}))},findBoxEdgePosition=function findBoxEdgePosition(sourcePosition,gridPosition,cellsOfItem,numberOfColumns){if(calculateIsHorizontal(sourcePosition,gridPosition)){if(sourcePosition.x<gridPosition.x){var _newx=cellsOfItem.sort((function(a,b){return a.x-b.x}))[0];return{y:gridPosition.y,x:_newx.index%numberOfColumns+1}}var newx=cellsOfItem.sort((function(a,b){return b.x-a.x}))[0],newxPosition={y:Math.floor(newx.index/numberOfColumns)+1,x:newx.index%numberOfColumns+1};return{y:gridPosition.y,x:newxPosition.x}}if(sourcePosition.y<gridPosition.y){var _newy=cellsOfItem.sort((function(a,b){return a.y-b.y}))[0],_newyPosition={y:Math.floor(_newy.index/numberOfColumns)+1,x:_newy.index%numberOfColumns+1};return{x:gridPosition.x,y:_newyPosition.y}}var newy=cellsOfItem.sort((function(a,b){return b.y-a.y}))[0],newyPosition={y:Math.floor(newy.index/numberOfColumns)+1,x:newy.index%numberOfColumns+1};return{x:gridPosition.x,y:newyPosition.y}}},"./src/utils/grid.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{kl:()=>calculatePosition,uk:()=>checkIfRightSideOfGrid,i6:()=>createArrowItem,zj:()=>createTopicMapItem,Z2:()=>findConnectedArrows,y8:()=>findHeightPercentage,i$:()=>findItem,uf:()=>findOccupiedCells,Ow:()=>findWidthPercentage,FS:()=>gridToPercentage,A0:()=>isDraggingLeft,bP:()=>isDraggingUp,o2:()=>mapTopicMapItemToElement,gY:()=>minimumSizeReached,vN:()=>positionIsFree,Ot:()=>resizeItems,U8:()=>scaleItemLength,$G:()=>updateItem});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),lodash_intersectionby=(__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/lodash.intersectionby/index.js")),lodash_intersectionby_default=__webpack_require__.n(lodash_intersectionby);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return grid_utils_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||grid_utils_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function grid_utils_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return grid_utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?grid_utils_arrayLikeToArray(o,minLen):void 0}}function grid_utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var resizeItems=function resizeItems(items,scaleFactor){return items.map((function(item){return function resizeItem(item,scaleFactor){return Object.assign({},item,{heightPercentage:item.heightPercentage*scaleFactor,widthPercentage:item.widthPercentage*scaleFactor,xPercentagePosition:item.xPercentagePosition*scaleFactor,yPercentagePosition:item.yPercentagePosition*scaleFactor})}(item,scaleFactor)}))},calculateXPercentage=function calculateXPercentage(xPx,width){return xPx/width*100},calculateYPercentage=function calculateYPercentage(yPx,height){return yPx/height*100},updateItem=function updateItem(items,updatedItem,width,height,_ref){var newPosition=_ref.newPosition,newSize=_ref.newSize;return items.map((function(item){if(!(item.id===updatedItem.id))return item;var newItem=Object.assign({},item);return newPosition&&(newItem.xPercentagePosition=calculateXPercentage(newPosition.x,width),newItem.yPercentagePosition=calculateYPercentage(newPosition.y,height)),newSize&&(newItem.widthPercentage=calculateXPercentage(newSize.width,width),newItem.heightPercentage=calculateYPercentage(newSize.height,height)),newItem}))},findCellsElementOccupies=function findCellsElementOccupies(_ref2,gridWidth,gridHeight,gapSize,cellSize){var id=_ref2.id,type=_ref2.type,position=_ref2.position,size=_ref2.size,allCells=function getAllCells(gridWidth,gridHeight,gapSize,cellSize){for(var cells=[],stepSize=gapSize+cellSize,currentIndex=0,y=0;y<gridHeight;y+=stepSize)for(var x=0;x<gridWidth;x+=stepSize)cells.push({x,y,index:currentIndex}),currentIndex+=1;return cells}(gridWidth,gridHeight,gapSize,cellSize);return allCells.filter((function(cell){return function cellIsOccupiedByElement(elementPosition,elementSize,cellPosition){return cellPosition.x>=elementPosition.x-5&&cellPosition.x<=elementPosition.x+elementSize.width&&cellPosition.y>=elementPosition.y-5&&cellPosition.y<=elementPosition.y+elementSize.height}(position,size,cell)})).map((function(_ref3){var x=_ref3.x,y=_ref3.y,index=_ref3.index;return{occupiedById:id,occupiedByType:type,x,y,index}}))},findOccupiedCells=function findOccupiedCells(elements,gridWidth,gridHeight,gapSize,cellSize){var _step,occupiedCells=[],_iterator=function grid_utils_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=grid_utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(elements);try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;occupiedCells.push.apply(occupiedCells,_toConsumableArray(findCellsElementOccupies(element,gridWidth,gridHeight,gapSize,cellSize)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return occupiedCells},scaleItemLength=function scaleItemLength(percentage,length,cellSize){var newL=length*percentage/100;return newL>cellSize?newL:cellSize},calculatePosition=function calculatePosition(percentage,length){return length*percentage/100},minimumSizeReached=function minimumSizeReached(xPercentage,gridWidth,yPercentage,gridHeight){return gridWidth*xPercentage/100<0||gridHeight*yPercentage/100<0},mapTopicMapItemToElement=function mapTopicMapItemToElement(item,gridSize,cellSize){return{id:item.id,type:"item",position:{x:calculatePosition(item.xPercentagePosition,gridSize.width),y:calculatePosition(item.yPercentagePosition,gridSize.height)},size:{width:scaleItemLength(item.widthPercentage,gridSize.width,cellSize),height:scaleItemLength(item.heightPercentage,gridSize.height,cellSize)}}},positionIsFree=function positionIsFree(newPosition,elementId,elementSize,gridSize,gapSize,cellSize,occupiedCells){var cellsThisElementWillOccupy=findCellsElementOccupies({id:elementId,type:"item",position:newPosition,size:elementSize},gridSize.width,gridSize.height,gapSize,cellSize);return!function arraysHaveSomeOverlap(arr1,arr2){return lodash_intersectionby_default()(arr1,arr2,"index").length>0}(occupiedCells.filter((function(cell){return cell.occupiedById!==elementId})),cellsThisElementWillOccupy)},isDraggingLeft=function isDraggingLeft(indicatorIndex,boxStartPosition,numberOfColumns){return boxStartPosition%numberOfColumns>=indicatorIndex%numberOfColumns},isDraggingUp=function isDraggingUp(indicatorIndex,boxStartPosition,numberOfColumns,numberOfRows){return Math.floor(boxStartPosition/numberOfColumns)/numberOfRows*100>=Math.floor(indicatorIndex/numberOfColumns)/numberOfRows*100},findWidthPercentage=function findWidthPercentage(onlyScaleVertically,leftHandle,dragLeft,existingItem,xPercentagePosition,xEndPercentagePosition){return onlyScaleVertically?existingItem.widthPercentage:leftHandle&&!dragLeft?existingItem.widthPercentage-(xPercentagePosition-existingItem.xPercentagePosition):leftHandle&&dragLeft?existingItem.widthPercentage+(existingItem.xPercentagePosition-xPercentagePosition):xEndPercentagePosition-xPercentagePosition},findHeightPercentage=function findHeightPercentage(onlyScaleHorizontally,topHandle,dragUp,existingItem,yPercentagePosition,yEndPercentagePosition){return onlyScaleHorizontally?existingItem.heightPercentage:topHandle&&dragUp?existingItem.heightPercentage+(existingItem.yPercentagePosition-yPercentagePosition):topHandle&&!dragUp?existingItem.heightPercentage-(yPercentagePosition-existingItem.yPercentagePosition):yEndPercentagePosition-yPercentagePosition},createTopicMapItem=function createTopicMapItem(){return{id:(0,v4.Z)(),xPercentagePosition:0,yPercentagePosition:0,widthPercentage:0,heightPercentage:0,topicImage:void 0,label:"",description:""}},createArrowItem=function createArrowItem(startId,endId,label,arrowType,startPosition,endPosition,startGridPosition,endGridPosition,breakpoints,relativeBreakpoints){return{id:(0,v4.Z)(),label,arrowType,description:"",startElementId:startId,endElementId:endId,startPosition,endPosition,startGridPosition,endGridPosition,breakpoints,relativeBreakpoints}},findItem=function findItem(id,items){var _items$find;return id&&null!==(_items$find=items.find((function(item){return item.id===id})))&&void 0!==_items$find?_items$find:null},checkIfRightSideOfGrid=function checkIfRightSideOfGrid(xPosition,gridWidth){return xPosition>gridWidth/2},findConnectedArrows=function findConnectedArrows(itemId,arrows){return arrows.filter((function(arrow){return[arrow.startElementId,arrow.endElementId].includes(itemId)}))},gridToPercentage=function gridToPercentage(gridPosition,numberOfColumns,numberOfRows){return{x:gridPosition.x/numberOfColumns*100,y:gridPosition.y/numberOfRows*100}}},"./src/utils/theme.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>themes,u:()=>defaultTheme});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js");var _types_ColorTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/ColorTheme.ts"),themes=Object.values(_types_ColorTheme__WEBPACK_IMPORTED_MODULE_2__.U).map((function(value){return{value,labelKey:"global_theme-"+value}})),defaultTheme=_types_ColorTheme__WEBPACK_IMPORTED_MODULE_2__.U.Blue},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./App.stories.tsx":"./src/App.stories.tsx","./components/AppearanceDialog/AppearanceDialog.stories.tsx":"./src/components/AppearanceDialog/AppearanceDialog.stories.tsx","./components/Arrow/Arrow.stories.tsx":"./src/components/Arrow/Arrow.stories.tsx","./components/ArrowItemForm/ArrowItemForm.stories.tsx":"./src/components/ArrowItemForm/ArrowItemForm.stories.tsx","./components/ContextMenu/ContextMenu.stories.tsx":"./src/components/ContextMenu/ContextMenu.stories.tsx","./components/ContextMenuButton/ContextMenuButton.stories.tsx":"./src/components/ContextMenuButton/ContextMenuButton.stories.tsx","./components/Dialog/Dialog.stories.tsx":"./src/components/Dialog/Dialog.stories.tsx","./components/Draggable/Draggable.stories.tsx":"./src/components/Draggable/Draggable.stories.tsx","./components/Grid/Grid.stories.tsx":"./src/components/Grid/Grid.stories.tsx","./components/GridIndicator/GridIndicator.stories.tsx":"./src/components/GridIndicator/GridIndicator.stories.tsx","./components/MapEditorView/MapEditorView.stories.tsx":"./src/components/MapEditorView/MapEditorView.stories.tsx","./components/ThemePicker/ThemePicker.stories.tsx":"./src/components/ThemePicker/ThemePicker.stories.tsx","./components/Toolbar/Toolbar.stories.tsx":"./src/components/Toolbar/Toolbar.stories.tsx","./components/ToolbarButton/ToolbarButton.stories.tsx":"./src/components/ToolbarButton/ToolbarButton.stories.tsx","./components/TopicMapItem/TopicMapItem.stories.tsx":"./src/components/TopicMapItem/TopicMapItem.stories.tsx","./components/TopicMapItemForm/TopicMapItemForm.stories.tsx":"./src/components/TopicMapItemForm/TopicMapItemForm.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./src sync ^\\.[\\\\/](?:App\\.stories\\.tsx)$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./App.stories.tsx":"./src/App.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync ^\\.[\\\\/](?:App\\.stories\\.tsx)$"},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync ^\\.[\\\\/](?:App\\.stories\\.tsx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[224],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);